(function(){var e={6700:function(e,t,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(e){var t=o(e);return s(t)}function o(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id=6700},3158:function(e,t,s){"use strict";var a=s(9242),n=s(3396),o=s(4870),i=s(2483),r=s(7139),l=s.p+"img/tm_logo_lighter.5c8a66b4.png";const c=e=>((0,n.dD)("data-v-0d637854"),e=e(),(0,n.Cn)(),e),d={class:"navbar",role:"navigation"},h=c((()=>(0,n._)("div",{class:"navbar-logo-container"},[(0,n._)("img",{class:"navbar-logo",src:l})],-1))),m={class:"navbar-menu-container"},u={key:0,class:"navbar-menu-list"},p=c((()=>(0,n._)("svg",{viewBox:"0 0 24 24"},[(0,n._)("path",{"clip-rule":"evenodd",d:"m14.0138 4.04532c-1.1807-.93217-2.8469-.93217-4.02764 0l-5.5 4.34211c-.78069.61633-1.23616 1.55622-1.23616 2.55087v6.5616c0 1.7949 1.45507 3.25 3.25 3.25h1.5c.13807 0 .25-.1119.25-.25v-3c0-1.5188 1.23122-2.75 2.75-2.75h2c1.5188 0 2.75 1.2312 2.75 2.75v3c0 .1381.1119.25.25.25h1.5c1.7949 0 3.25-1.4551 3.25-3.25v-6.5616c0-.99465-.4555-1.93454-1.2362-2.55087zm-4.95711-1.17732c1.72571-1.36241 4.16091-1.36241 5.88661 0l5.5 4.34211c1.141.90079 1.8067 2.27447 1.8067 3.72819v6.5616c0 2.6233-2.1266 4.75-4.75 4.75h-1.5c-.9665 0-1.75-.7835-1.75-1.75v-3c0-.6904-.5596-1.25-1.25-1.25h-2c-.6904 0-1.25.5596-1.25 1.25v3c0 .9665-.7835 1.75-1.75 1.75h-1.5c-2.62335 0-4.75-2.1267-4.75-4.75v-6.5616c0-1.45372.66569-2.8274 1.80669-3.7282z","fill-rule":"evenodd"})],-1))),g=c((()=>(0,n._)("svg",{viewBox:"0 0 512 512"},[(0,n._)("path",{d:"m316.695 512h-121.39v-53.312c-13.761-4.112-27.047-9.62-39.699-16.456l-37.707 37.706-85.835-85.836 37.705-37.707c-6.836-12.652-12.344-25.938-16.456-39.699h-53.313v-121.391h53.312c4.112-13.761 9.62-27.047 16.456-39.699l-37.705-37.707 85.835-85.836 37.707 37.706c12.652-6.836 25.938-12.344 39.699-16.456v-53.313h121.391v53.312c13.761 4.112 27.047 9.62 39.699 16.456l37.707-37.706 85.836 85.836-37.706 37.707c6.836 12.652 12.344 25.938 16.456 39.699h53.313v121.391h-53.312c-4.112 13.761-9.62 27.047-16.456 39.699l37.706 37.707-85.836 85.836-37.707-37.706c-12.652 6.836-25.938 12.344-39.699 16.456v53.313zm-91.39-30h61.391v-46.66l11.525-2.744c18.654-4.442 36.413-11.804 52.784-21.88l10.091-6.211 33.006 33.007 43.41-43.41-33.007-33.006 6.211-10.091c10.076-16.371 17.438-34.13 21.88-52.784l2.744-11.525h46.66v-61.391h-46.66l-2.744-11.525c-4.442-18.654-11.804-36.413-21.88-52.784l-6.211-10.091 33.007-33.006-43.41-43.41-33.006 33.007-10.091-6.211c-16.371-10.076-34.13-17.438-52.784-21.88l-11.525-2.744v-46.661h-61.391v46.66l-11.525 2.744c-18.654 4.442-36.413 11.804-52.784 21.88l-10.091 6.211-33.006-33.007-43.409 43.41 33.005 33.006-6.21 10.091c-10.076 16.371-17.438 34.13-21.88 52.784l-2.744 11.525h-46.661v61.391h46.66l2.744 11.525c4.442 18.654 11.804 36.413 21.88 52.784l6.21 10.091-33.005 33.006 43.409 43.41 33.006-33.007 10.091 6.211c16.371 10.076 34.13 17.438 52.784 21.88l11.525 2.744v46.661z"}),(0,n._)("path",{d:"m256 399.075c-80.227 0-145.496-65.269-145.496-145.495s65.269-145.496 145.496-145.496 145.496 65.27 145.496 145.496-65.269 145.495-145.496 145.495zm0-260.991c-63.685 0-115.496 51.812-115.496 115.496s51.811 115.495 115.496 115.495 115.496-51.811 115.496-115.495-51.811-115.496-115.496-115.496z"}),(0,n._)("path",{d:"m316 268.58h-75v-75h30v45h45z"})],-1))),w=c((()=>(0,n._)("svg",{viewBox:"0 0 32 32"},[(0,n._)("g",{id:"Layer_7","data-name":"Layer 7"},[(0,n._)("path",{d:"m31.9336 19.4463a16.0029 16.0029 0 0 0 -15.9385-15.3672c-.1269 0-.2549.0015-.3818.0049a16.0378 16.0378 0 0 0 -15.5576 15.9394 15.7648 15.7648 0 0 0 1.8076 7.36 1 1 0 0 0 .8867.5376h26.5a.9988.9988 0 0 0 .8867-.5376 15.9623 15.9623 0 0 0 1.7969-7.9371zm-3.3047 6.4746h-25.2589a13.7635 13.7635 0 0 1 -1.3144-5.8975 14.0264 14.0264 0 0 1 13.6044-13.9404c.1064-.0024.2119-.0034.3173-.0034a14.1766 14.1766 0 0 1 13.958 13.438 13.9591 13.9591 0 0 1 -1.3064 6.4033z"}),(0,n._)("path",{d:"m22.0566 11.5952-8.6211 4.9258a3.6953 3.6953 0 0 0 -.8564 5.916 3.697 3.697 0 0 0 5.916-.8574l4.9258-8.6196a1 1 0 0 0 -1.3643-1.3643zm-5.2978 8.9922a1.6993 1.6993 0 0 1 -2.7656.4355 1.698 1.698 0 0 1 .4345-2.7652l5.4375-3.1077z"})])],-1))),v=c((()=>(0,n._)("svg",{viewBox:"-42 0 512 512.001"},[(0,n._)("path",{d:"m210.351562 246.632812c33.882813 0 63.21875-12.152343 87.195313-36.128906 23.96875-23.972656 36.125-53.304687 36.125-87.191406 0-33.875-12.152344-63.210938-36.128906-87.191406-23.976563-23.96875-53.3125-36.121094-87.191407-36.121094-33.886718 0-63.21875 12.152344-87.191406 36.125s-36.128906 53.308594-36.128906 87.1875c0 33.886719 12.15625 63.222656 36.128906 87.195312 23.980469 23.96875 53.316406 36.125 87.191406 36.125zm-65.972656-189.292968c18.394532-18.394532 39.972656-27.335938 65.972656-27.335938 25.996094 0 47.578126 8.941406 65.976563 27.335938 18.394531 18.398437 27.339844 39.980468 27.339844 65.972656 0 26-8.945313 47.578125-27.339844 65.976562-18.398437 18.398438-39.980469 27.339844-65.976563 27.339844-25.992187 0-47.570312-8.945312-65.972656-27.339844-18.398437-18.394531-27.34375-39.976562-27.34375-65.976562 0-25.992188 8.945313-47.574219 27.34375-65.972656zm0 0"}),(0,n._)("path",{d:"m426.128906 393.703125c-.691406-9.976563-2.089844-20.859375-4.148437-32.351563-2.078125-11.578124-4.753907-22.523437-7.957031-32.527343-3.3125-10.339844-7.808594-20.550781-13.375-30.335938-5.769532-10.15625-12.550782-19-20.160157-26.277343-7.957031-7.613282-17.699219-13.734376-28.964843-18.199219-11.226563-4.441407-23.667969-6.691407-36.976563-6.691407-5.226563 0-10.28125 2.144532-20.042969 8.5-6.007812 3.917969-13.035156 8.449219-20.878906 13.460938-6.707031 4.273438-15.792969 8.277344-27.015625 11.902344-10.949219 3.542968-22.066406 5.339844-33.042969 5.339844-10.96875 0-22.085937-1.796876-33.042968-5.339844-11.210938-3.621094-20.300782-7.625-26.996094-11.898438-7.769532-4.964844-14.800782-9.496094-20.898438-13.46875-9.753906-6.355468-14.808594-8.5-20.035156-8.5-13.3125 0-25.75 2.253906-36.972656 6.699219-11.257813 4.457031-21.003906 10.578125-28.96875 18.199219-7.609375 7.28125-14.390625 16.121094-20.15625 26.273437-5.558594 9.785157-10.058594 19.992188-13.371094 30.339844-3.199219 10.003906-5.875 20.945313-7.953125 32.523437-2.0625 11.476563-3.457031 22.363282-4.148437 32.363282-.679688 9.777344-1.023438 19.953125-1.023438 30.234375 0 26.726562 8.496094 48.363281 25.25 64.320312 16.546875 15.746094 38.4375 23.730469 65.066406 23.730469h246.53125c26.621094 0 48.511719-7.984375 65.0625-23.730469 16.757813-15.945312 25.253906-37.589843 25.253906-64.324219-.003906-10.316406-.351562-20.492187-1.035156-30.242187zm-44.90625 72.828125c-10.933594 10.40625-25.449218 15.464844-44.378906 15.464844h-246.527344c-18.933594 0-33.449218-5.058594-44.378906-15.460938-10.722656-10.207031-15.933594-24.140625-15.933594-42.585937 0-9.59375.316406-19.066407.949219-28.160157.617187-8.921874 1.878906-18.722656 3.75-29.136718 1.847656-10.285156 4.199219-19.9375 6.996094-28.675782 2.683593-8.378906 6.34375-16.675781 10.882812-24.667968 4.332031-7.617188 9.316407-14.152344 14.816407-19.417969 5.144531-4.925781 11.628906-8.957031 19.269531-11.980469 7.066406-2.796875 15.007812-4.328125 23.628906-4.558594 1.050781.558594 2.921875 1.625 5.953125 3.601563 6.167969 4.019531 13.277344 8.605469 21.136719 13.625 8.859375 5.648437 20.273437 10.75 33.910156 15.152344 13.941406 4.507812 28.160156 6.796875 42.273437 6.796875 14.113282 0 28.335938-2.289063 42.269532-6.792969 13.648437-4.410156 25.058594-9.507813 33.929687-15.164063 8.042969-5.140624 14.953125-9.59375 21.121094-13.617187 3.03125-1.972656 4.902344-3.042969 5.953125-3.601563 8.625.230469 16.566406 1.761719 23.636719 4.558594 7.636719 3.023438 14.121093 7.058594 19.265625 11.980469 5.5 5.261719 10.484375 11.796875 14.816406 19.421875 4.542969 7.988281 8.207031 16.289062 10.886719 24.660156 2.800781 8.75 5.15625 18.398438 7 28.675782 1.867187 10.433593 3.132812 20.238281 3.75 29.144531v.007812c.636719 9.058594.957031 18.527344.960937 28.148438-.003906 18.449219-5.214844 32.378906-15.9375 42.582031zm0 0"})],-1))),f=c((()=>(0,n._)("svg",{viewBox:"0 0 512 512","data-name":"Layer 1"},[(0,n._)("path",{d:"m363.335 488a24 24 0 0 1 -24 24h-226.253a80.09 80.09 0 0 1 -80-80v-352a80.09 80.09 0 0 1 80-80h226.253a24 24 0 0 1 0 48h-226.253a32.035 32.035 0 0 0 -32 32v352a32.034 32.034 0 0 0 32 32h226.253a24 24 0 0 1 24 24zm108.553-248.97-114.051-114.052a24 24 0 1 0 -33.937 33.941l73.077 73.081h-188.936a24 24 0 1 0 0 48h188.935l-73.08 73.08a24 24 0 1 0 33.941 33.941l114.051-114.05a24 24 0 0 0 0-33.941z"})],-1))),b=[f];function _(e,t,s,a,o,i){const l=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("div",d,[h,(0,n._)("div",m,[o.session&&o.session.active?((0,n.wg)(),(0,n.iD)("ul",u,[(0,n._)("li",{class:(0,r.C_)("navbar-menu-item "+(e.$route&&e.$route.path.includes("home")?"navbar-menu-item__selected":""))},[(0,n.Wm)(l,{to:"/home"},{default:(0,n.w5)((()=>[p])),_:1})],2),(0,n._)("li",{class:(0,r.C_)("navbar-menu-item "+(e.$route&&e.$route.path.includes("working_times")?"navbar-menu-item__selected":""))},[(0,n.Wm)(l,{to:"/working_times/"+o.session.id},{default:(0,n.w5)((()=>[g])),_:1},8,["to"])],2),(0,n._)("li",{class:(0,r.C_)("navbar-menu-item "+(e.$route&&e.$route.path.includes("chart_manager")?"navbar-menu-item__selected":""))},[(0,n.Wm)(l,{to:"/chart_manager/"+o.session.id},{default:(0,n.w5)((()=>[w])),_:1},8,["to"])],2),(0,n._)("li",{class:(0,r.C_)("navbar-menu-item "+(e.$route&&e.$route.path.includes("users")?"navbar-menu-item__selected":""))},[(0,n.Wm)(l,{to:"/users/"+o.session.id},{default:(0,n.w5)((()=>[v])),_:1},8,["to"])],2)])):(0,n.kq)("",!0)]),o.session&&o.session.active?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"navbar-logout-container",role:"link",onClick:t[0]||(t[0]=e=>i.unregisterUser())},b)):(0,n.kq)("",!0)])}s(7658);const y=e=>((0,n.dD)("data-v-64157091"),e=e(),(0,n.Cn)(),e),k=y((()=>(0,n._)("div",{class:"login-logo-container"},[(0,n._)("img",{class:"login-logo",src:l})],-1))),T={key:0,class:"login-form-container"},S={class:"login-form",role:"form"},D=y((()=>(0,n._)("h5",{class:"login-form-title"},"Login",-1))),j={class:"login-form-fields"},U={class:"login-form-field"},z=y((()=>(0,n._)("label",{for:"Username"},"Username",-1))),C={class:"login-form-field"},A=y((()=>(0,n._)("label",{for:"Email"},"Email",-1))),W={class:"login-form-field"},O=y((()=>(0,n._)("label",{for:"password"},"Password",-1))),M={class:"login-form-buttons"},N=y((()=>(0,n._)("span",{class:"login-form-button-separator"},null,-1))),x={data:function(){return{user:{username:"",id:"",email:"",password:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1,token:""},session:{active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1,token:""}}},created(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})},methods:{logUser:function(){fetch("http://time-manager.ovh:4001/api/auth/login",{mode:"cors",method:"POST",body:JSON.stringify({username:this.user.username,email:this.user.email,password:this.user.password}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>{if(e.ok)return e.json();throw this.$toast.error("Invalid credentials",{position:"top-right"}),new Error("Invalid credentials")})).then((e=>{e.success?(this.$toast.success(e.message,{position:"top-right"}),this.registerUser(!0,e.user.id,e.user.username,e.user.email,e.user.isAuthoriseAdmin,e.user.isAuthoriseManager,e.token),Uo.push("/home")):e.error&&""!==e.error?this.$toast.error(e.error,{position:"top-right"}):this.$toast.error("Something went wrong. Please try again or contact your administrator",{position:"top-right"})})).catch((e=>console.log(e)))},registerUser:function(e,t,s,a,n,o,i){if(this.checkUserInfos(e,t,s,a)){const r={active:e,id:t,username:s,email:a,isAuthoriseAdmin:n,isAuthoriseManager:o,token:i};this.session=r,localStorage.session=JSON.stringify(r)}else{const e={active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1,token:""};this.session=e,localStorage.session=JSON.stringify(e)}},checkUserInfos:function(e,t,s,a){return"boolean"===typeof e&&"number"===typeof t&&"string"===typeof s&&s.length>0&&"string"===typeof a&&a.length>0}}};var I=Object.assign(x,{__name:"Login",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[k,e.session&&e.session.active?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",S,[D,(0,n._)("div",j,[(0,n._)("div",U,[z,(0,n.wy)((0,n._)("input",{id:"Username",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.user.username=t)},null,512),[[a.nr,e.user.username]])]),(0,n._)("div",C,[A,(0,n.wy)((0,n._)("input",{id:"Email",type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.user.email=t)},null,512),[[a.nr,e.user.email]])]),(0,n._)("div",W,[O,(0,n.wy)((0,n._)("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.user.password=t)},null,512),[[a.nr,e.user.password]])])]),(0,n._)("div",M,[(0,n._)("button",{class:"login-form-button-connect",onClick:t[3]||(t[3]=t=>e.logUser())},"Log in"),N])])]))],64))}}),V=s(89);const $=(0,V.Z)(I,[["__scopeId","data-v-64157091"]]);var L=$;const F=e=>((0,n.dD)("data-v-6c18bfd3"),e=e(),(0,n.Cn)(),e),J={class:"homepage"},E={class:"menu-title-container"},B={class:"greeting-card"},P={class:"menu-title"},R={class:"card-menu-container"},Y={class:"card-menu"},Z=F((()=>(0,n._)("h2",{class:"card-menu-title"},"Clock",-1))),q=F((()=>(0,n._)("p",{class:"card-menu-description"},"Start or end a clock to set-up your working times",-1))),G={class:"card-menu-description"},H={key:0,class:"card-menu-description"},K={key:1,class:"card-menu-icon"},Q=F((()=>(0,n._)("svg",{viewBox:"0 0 24 24"},[(0,n._)("path",{d:"m12 1.25a10.75 10.75 0 1 0 10.75 10.75 10.762 10.762 0 0 0 -10.75-10.75zm-6.25 10.75a.75.75 0 0 1 -1.5 0 7.759 7.759 0 0 1 7.75-7.75 7.651 7.651 0 0 1 2.991.6.75.75 0 1 1 -.582 1.382 6.174 6.174 0 0 0 -2.409-.482 6.257 6.257 0 0 0 -6.25 6.25zm11.86-4.564-4.247 5.945a1.5 1.5 0 1 1 -1.363-.881c.048 0 .093.01.14.014l4.25-5.95a.75.75 0 1 1 1.22.872zm1.39 5.314a.75.75 0 0 1 -.75-.75 5.909 5.909 0 0 0 -.2-1.556.75.75 0 1 1 1.449-.388 7.486 7.486 0 0 1 .251 1.944.75.75 0 0 1 -.75.75z"})],-1))),X=[Q],ee={class:"card-menu"},te=(0,n.uE)('<h2 class="card-menu-title" data-v-6c18bfd3>Working times</h2><p class="card-menu-description" data-v-6c18bfd3>View and manage your working times</p><div class="card-menu-icon" data-v-6c18bfd3><svg viewBox="0 0 512 512" data-v-6c18bfd3><g data-v-6c18bfd3><path d="m256 121.538c-72.642 0-131.74 59.099-131.74 131.741s59.099 131.739 131.74 131.739 131.74-59.098 131.74-131.739c0-72.642-59.098-131.741-131.74-131.741zm67.469 146.74h-82.469v-82.468h30v52.469h52.469z" data-v-6c18bfd3></path><path d="m512 219.617h-52.861l-2.744-11.525c-5.04-21.168-13.394-41.321-24.829-59.902l-6.21-10.091 37.392-37.392-51.455-51.454-37.391 37.392-10.091-6.21c-18.58-11.436-38.734-19.789-59.901-24.829l-11.525-2.744v-52.862h-72.768v52.861l-11.525 2.744c-21.167 5.04-41.321 13.394-59.901 24.829l-10.091 6.21-37.391-37.392-51.454 51.454 37.391 37.392-6.21 10.091c-11.436 18.581-19.79 38.735-24.832 59.903l-2.744 11.525h-52.86v72.766h52.86l2.744 11.525c5.041 21.168 13.396 41.322 24.83 59.902l6.21 10.091-37.391 37.391 51.454 51.454 37.391-37.391 10.091 6.21c18.58 11.436 38.734 19.789 59.901 24.829l11.525 2.744v52.862h72.768v-52.861l11.525-2.744c21.167-5.04 41.321-13.394 59.901-24.829l10.091-6.21 37.391 37.392 51.455-51.455-37.392-37.391 6.21-10.091c11.436-18.581 19.789-38.734 24.829-59.902l2.744-11.525h52.863zm-256 195.402c-89.184 0-161.74-72.556-161.74-161.739 0-89.185 72.557-161.741 161.74-161.741s161.74 72.557 161.74 161.741c0 89.183-72.556 161.739-161.74 161.739z" data-v-6c18bfd3></path></g></svg></div>',3),se=F((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ae={class:"card-menu"},ne=(0,n.uE)('<h2 class="card-menu-title" data-v-6c18bfd3>Dashboard</h2><p class="card-menu-description" data-v-6c18bfd3>Visualize your working times with charts and graphs</p><div class="card-menu-icon" data-v-6c18bfd3><svg viewBox="0 0 32 32" data-v-6c18bfd3><g id="Layer_7" data-name="Layer 7" data-v-6c18bfd3><path d="m31.9336 19.4463a16.0029 16.0029 0 0 0 -15.9385-15.3672c-.1269 0-.2549.0015-.3818.0049a16.0378 16.0378 0 0 0 -15.5576 15.9394 15.7648 15.7648 0 0 0 1.8076 7.36 1 1 0 0 0 .8867.5376h26.5a.9988.9988 0 0 0 .8867-.5376 15.9623 15.9623 0 0 0 1.7969-7.9371zm-8.5127-6.4863-4.9258 8.62a3.697 3.697 0 0 1 -5.916.8574 3.6953 3.6953 0 0 1 .8564-5.916l8.6211-4.9258a1 1 0 0 1 1.3643 1.3644zm-8.9932 5.2978 5.4375-3.1078-3.1064 5.437a1.6993 1.6993 0 0 1 -2.7656.4355 1.698 1.698 0 0 1 .4345-2.7652z" data-v-6c18bfd3></path></g></svg></div>',3),oe=F((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ie={class:"card-menu"},re=(0,n.uE)('<h2 class="card-menu-title" data-v-6c18bfd3>Profile</h2><p class="card-menu-description" data-v-6c18bfd3>Update your user informations</p><div class="card-menu-icon" data-v-6c18bfd3><svg viewBox="0 0 512 512" data-v-6c18bfd3><g data-v-6c18bfd3><g data-v-6c18bfd3><path d="M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,74.667\n                  c67.635,0,122.667,55.031,122.667,122.667S323.635,320,256,320s-122.667-55.031-122.667-122.667S188.365,74.667,256,74.667z\n                  M256,469.333c-69.707,0-131.52-33.755-170.473-85.615c42.676-20.534,103.621-42.385,170.473-42.385\n                  c66.857,0,127.807,21.854,170.474,42.383C387.521,435.577,325.708,469.333,256,469.333z" data-v-6c18bfd3></path></g></g></svg></div>',3),le=F((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ce={key:0,class:"card-menu"},de=(0,n.uE)('<h2 class="card-menu-title" data-v-6c18bfd3>Admin view</h2><p class="card-menu-description" data-v-6c18bfd3>Administrate your users permissions</p><div class="card-menu-icon" data-v-6c18bfd3><svg viewBox="0 0 512 512" data-v-6c18bfd3><path d="M256,151c-41.353,0-75,33.647-75,75c0,41.353,33.647,75,75,75c41.353,0,75-33.647,75-75C331,184.647,297.353,151,256,151z\n              " data-v-6c18bfd3></path><path d="M501.746,211.776l-27.045-8.687c-5.479-22.734-14.414-44.297-26.66-64.292l12.29-24.58\n              c2.886-5.771,1.758-12.744-2.813-17.314l-42.422-42.422c-4.585-4.585-11.528-5.684-17.314-2.813l-24.595,12.305\n              c-18.252-11.147-38.042-19.585-59.019-25.166l-14.75-30.516C296.869,3.208,291.684,0,286,0h-60\n              c-5.684,0-10.869,3.208-13.418,8.291l-14.751,30.517c-20.977,5.581-40.767,14.019-59.019,25.166l-24.595-12.305\n              c-5.801-2.915-12.729-1.787-17.314,2.813L54.481,96.903c-4.57,4.57-5.698,11.543-2.813,17.314l12.305,24.595\n              c-11.147,18.252-19.585,38.042-25.166,59.019L8.291,212.582C3.208,215.131,0,220.316,0,226v60c0,5.684,3.208,10.869,8.291,13.418\n              l30.517,14.751c5.068,18.94,12.612,37.119,22.5,54.214l-10.459,31.362c-1.787,5.391-0.381,11.338,3.633,15.352l42.422,42.422\n              c4.028,4.014,9.946,5.42,15.352,3.633l31.362-10.459c18.853,10.942,38.789,18.984,59.473,23.994l8.687,27.06\n              C213.813,507.869,219.54,512,226,512h60c6.46,0,12.188-4.131,14.224-10.254l8.687-27.06c20.684-5.01,40.62-13.052,59.473-23.994\n              l31.362,10.459c5.405,1.787,11.353,0.381,15.352-3.633l42.422-42.422c4.014-4.014,5.42-9.961,3.633-15.352l-10.459-31.362\n              c10.942-18.853,18.984-38.789,23.994-59.473l27.06-8.687C507.869,298.188,512,292.46,512,286v-60\n              C512,219.54,507.869,213.813,501.746,211.776z M256,421c-90.981,0-165-74.019-165-165S165.019,91,256,91s165,74.019,165,165\n              S346.981,421,256,421z" data-v-6c18bfd3></path><path d="M328.951,301.247C310.036,319.587,284.359,331,256,331s-54.04-11.413-72.953-29.753\n              c-12.393,12.252-21.903,27.437-27.092,44.562C180.687,373.334,216.167,391,256,391c39.825,0,75.302-17.659,100.032-45.176\n              C350.848,328.691,341.341,313.5,328.951,301.247z" data-v-6c18bfd3></path></svg></div>',3),he=F((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),me={key:1,class:"card-menu card-menu__last"},ue=(0,n.uE)('<h2 class="card-menu-title" data-v-6c18bfd3>Manager view</h2><p class="card-menu-description" data-v-6c18bfd3>Manager your users teams</p><div class="card-menu-icon" data-v-6c18bfd3><svg viewBox="0 0 512 512" data-v-6c18bfd3><path d="m256 0c141.385 0 256 114.615 256 256s-114.615 256-256 256-256-114.615-256-256 114.615-256 256-256zm-155.831 315.337-.169 33.492h88.559c4.864-8.256 13.222-14.237 24.944-17.8.052-.013.1-.031.156-.043 2.068-.552 4-1.086 5.812-1.6l-.07-14.053c-3.239-7.134-9.812-12.131-20.062-15.265-6.5-1.748-11.848-3.291-15.921-4.5l-19.129 33.132a5.2 5.2 0 0 1 -9.008 0l-19.126-33.13c-4.08 1.208-9.423 2.757-15.915 4.5-10.26 3.134-16.832 8.125-20.071 15.265zm123.918-160.137a32.961 32.961 0 1 0 32.962-32.958 32.995 32.995 0 0 0 -32.962 32.958zm32.72 106.022a34.638 34.638 0 0 1 27.732 13.888h40.274a34.609 34.609 0 0 1 8.226-48.453c-4.761-8.116-13.1-13.919-25.414-17.669-9.023-2.433-16.176-4.506-21.752-6.178l-25.367 43.936a5.206 5.206 0 0 1 -9.011 0l-25.359-43.936c-5.585 1.672-12.738 3.745-21.761 6.178-11.922 3.631-20.107 9.179-24.938 16.9a34.613 34.613 0 0 1 9.361 49.226h40.273a34.646 34.646 0 0 1 27.736-13.888zm0 58.958a24.279 24.279 0 1 0 -24.276-24.28 24.3 24.3 0 0 0 24.276 24.281zm-120.493-65.212a24.276 24.276 0 1 0 24.276-24.276 24.3 24.3 0 0 0 -24.276 24.276zm240.982 0a24.274 24.274 0 1 0 -24.275 24.276 24.3 24.3 0 0 0 24.279-24.276zm-53.854 93.861h88.558l-.169-33.492c-3.238-7.134-9.811-12.131-20.061-15.265-6.5-1.748-11.848-3.3-15.921-4.5l-19.127 33.128a5.2 5.2 0 0 1 -9.011 0l-19.126-33.13c-4.168 1.241-9.406 2.747-15.921 4.5-10.253 3.134-16.826 8.125-20.062 15.265l-.073 14.053c1.816.509 3.744 1.043 5.812 1.6.052.012.1.03.156.043 11.723 3.564 20.083 9.545 24.945 17.8zm-127.225 40.93h119.566l-.168-33.492c-3.239-7.131-9.809-12.131-20.062-15.259-6.5-1.754-11.845-3.3-15.921-4.512l-19.126 33.131a5.207 5.207 0 0 1 -9.011 0l-19.127-33.127c-4.076 1.215-9.419 2.758-15.921 4.512-10.253 3.128-16.826 8.128-20.061 15.259z" fill-rule="evenodd" data-v-6c18bfd3></path></svg></div>',3),pe=F((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ge={data:function(){return{session:{active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1,token:""},clock:{id:-1,status:!1,time:"",user:-1},hours:0,minutes:0,seconds:0,stopWatch:{hours:0,minutes:0,seconds:0},intervalId:null}},async created(){localStorage.session?this.session.id!==JSON.parse(localStorage.session).id&&JSON.parse(localStorage.session)&&(this.session=JSON.parse(localStorage.session)):localStorage.session=JSON.stringify({...this.session}),await this.getClock(),setInterval((()=>{this.setTime()}),1e3),this.intervalId=setInterval((()=>{this.setTimer()}),1e3)},methods:{startClock:async function(e){var t=this.clock.id;await fetch("http://time-manager.ovh:4001/api/clocks/"+t,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:this.session.token}}).then((e=>e.json())).then((e=>{this.clock=e.content})),"end"===e?(clearInterval(this.intervalId),this.intervalId=null,this.stopWatch={hours:0,minutes:0,seconds:0}):this.intervalId=setInterval((()=>{this.setTimer()}),1e3),await this.getClock()},getClock:async function(){var e=JSON.parse(localStorage.session).id;await fetch("http://time-manager.ovh:4001/api/clocks/"+e,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:this.session.token}}).then((e=>e.json())).then((e=>{e?e.success?this.clock=e.content:e&&e.error&&""!==e.error&&this.$toast.error(e.error,{position:"top-right"}):this.$toast.error("Something went wrong while retrieving clock",{position:"top-right"})}))},setTime(){const e=new Date;let t=e.getHours(),s=e.getMinutes(),a=e.getSeconds();t=t<=9?`${t}`.padStart(2,0):t,s=s<=9?`${s}`.padStart(2,0):s,a=a<=9?`${a}`.padStart(2,0):a,this.hours=t,this.minutes=s,this.seconds=a},setTimer(){if(this.clock&&this.clock.status){let e=Math.abs(Math.floor(new Date(this.clock.time).getTime()-(new Date).getTime())),t=Math.floor(e/1e3),s=Math.floor(t/60),a=Math.floor(s/60);t%=60,s%=60,this.stopWatch.hours=a,this.stopWatch.seconds=t,this.stopWatch.minutes=s}}}};var we=Object.assign(ge,{__name:"Home",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("div",E,[(0,n._)("div",B,[(0,n._)("h1",P,"Welcome "+(0,r.zw)(e.session.username)+" !",1)])]),(0,n._)("div",R,[(0,n._)("div",Y,[Z,q,(0,n._)("p",G,(0,r.zw)(e.hours)+" : "+(0,r.zw)(e.minutes)+" : "+(0,r.zw)(e.seconds),1),e.clock.status?((0,n.wg)(),(0,n.iD)("p",H,(0,r.zw)(e.stopWatch.hours)+" : "+(0,r.zw)(e.stopWatch.minutes)+" : "+(0,r.zw)(e.stopWatch.seconds),1)):(0,n.kq)("",!0),e.clock.status?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",K,X)),e.clock.status?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:2,class:"card-menu-button",onClick:t[0]||(t[0]=t=>e.startClock("start"))},"Start Clock")),e.clock.status?((0,n.wg)(),(0,n.iD)("button",{key:3,class:"card-menu-button",onClick:t[1]||(t[1]=t=>e.startClock("end"))},"End Clock")):(0,n.kq)("",!0)]),(0,n._)("div",ee,[te,(0,n.wy)((0,n.Wm)((0,o.SU)(i.rH),{to:`/working_times/${e.session.id}`},{default:(0,n.w5)((()=>[se])),_:1},8,["to"]),[[a.F8,e.session.id]])]),(0,n._)("div",ae,[ne,(0,n.wy)((0,n.Wm)((0,o.SU)(i.rH),{to:`/chart_manager/${e.session.id}`},{default:(0,n.w5)((()=>[oe])),_:1},8,["to"]),[[a.F8,e.session.id]])]),(0,n._)("div",ie,[re,(0,n.wy)((0,n.Wm)((0,o.SU)(i.rH),{to:`/users/${e.session.id}`},{default:(0,n.w5)((()=>[le])),_:1},8,["to"]),[[a.F8,e.session.id]])]),!0===e.session.isAuthoriseAdmin?((0,n.wg)(),(0,n.iD)("div",ce,[de,(0,n.Wm)((0,o.SU)(i.rH),{to:"/adminView"},{default:(0,n.w5)((()=>[he])),_:1})])):(0,n.kq)("",!0),!0===e.session.isAuthoriseManager?((0,n.wg)(),(0,n.iD)("div",me,[ue,(0,n.Wm)((0,o.SU)(i.rH),{to:"/managerView"},{default:(0,n.w5)((()=>[pe])),_:1})])):(0,n.kq)("",!0)])]))}});const ve=(0,V.Z)(we,[["__scopeId","data-v-6c18bfd3"]]);var fe=ve;const be=e=>((0,n.dD)("data-v-2f234012"),e=e(),(0,n.Cn)(),e),_e={class:"profile-container"},ye={key:0,class:"profile-form"},ke={class:"profile-picture"},Te={class:"profile-field"},Se=be((()=>(0,n._)("label",{for:"username",class:""},"Username",-1))),De={class:"profile-field"},je=be((()=>(0,n._)("label",{for:"email",class:""},"Email",-1))),Ue={class:"profile-field"},ze=be((()=>(0,n._)("label",{for:"role",class:""},"Role",-1)));function Ce(e,t,s,o,i,l){return(0,n.wg)(),(0,n.iD)("div",_e,[i.user?((0,n.wg)(),(0,n.iD)("div",ye,[(0,n._)("div",ke,[(0,n._)("span",null,(0,r.zw)(i.user&&(i.user.username[0]+i.user.username[1]).toUpperCase()),1)]),(0,n._)("div",Te,[Se,(0,n.wy)((0,n._)("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>i.updatedUser.username=e),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.updatedUser.username]])]),(0,n._)("div",De,[je,(0,n.wy)((0,n._)("input",{type:"text",name:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>i.updatedUser.email=e),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.updatedUser.email]])]),(0,n._)("div",Ue,[ze,(0,n.wy)((0,n._)("input",{type:"text",name:"role",id:"role","onUpdate:modelValue":t[2]||(t[2]=e=>i.user.role_name=e),class:"mt-1 block w-full rounded-md border border p-2",disabled:""},null,512),[[a.nr,i.user.role_name]])]),(0,n._)("button",{class:"submit-button",onClick:t[3]||(t[3]=e=>l.updateUser())},"Submit")])):(0,n.kq)("",!0)])}var Ae={data(){return{user:null,updatedUser:{username:this.user?this.user.username:null,email:this.user?this.user.email:null}}},async created(){await this.getUser()},methods:{getUser:async function(){const e=await fetch("http://time-manager.ovh:4001/api/users/"+this.$route.params.userID,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}),{content:t,success:s,message:a}=await e.json();s&&t?(this.user=t,this.updatedUser.username=t.username,this.updatedUser.email=t.email):this.$toast.error(e.error,{position:"top-right"})},updateUser:async function(){const e=await fetch("http://time-manager.ovh:4001/api/users/"+this.$route.params.userID,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},method:"PUT",body:JSON.stringify({username:this.updatedUser.username,email:this.updatedUser.email})}),{success:t,message:s}=await e.json();t?(this.$toast.success(s,{position:"top-right"}),await this.getUser()):this.$toast.error(s,{position:"top-right"})}}};const We=(0,V.Z)(Ae,[["render",Ce],["__scopeId","data-v-2f234012"]]);var Oe=We;const Me=e=>((0,n.dD)("data-v-d7a0ec3e"),e=e(),(0,n.Cn)(),e),Ne={class:"wt-view"},xe={class:"wt-view-container"},Ie=Me((()=>(0,n._)("div",{class:"menu-title-container"},[(0,n._)("div",{class:"greeting-card"},[(0,n._)("h1",{class:"menu-title"},"Working times")])],-1))),Ve={class:"wt-toggle-container"},$e={key:0,class:"wt-list-accordion"},Le={class:"wt-accordion-header"},Fe=Me((()=>(0,n._)("h2",{class:"wt-list-name"},"Working times",-1))),Je={class:"wt-list-search"},Ee=Me((()=>(0,n._)("label",{class:"wt-list-search-label",for:"search"},"Search for date: ",-1))),Be=Me((()=>(0,n._)("svg",{viewBox:"0 0 457.47 457.469"},[(0,n._)("path",{d:"M228.734,0C102.41,0,0,102.41,0,228.735C0,355.06,102.41,457.469,228.734,457.469\n                c126.325,0,228.735-102.409,228.735-228.734C457.47,102.41,355.06,0,228.734,0z M359.268,265.476h-97.326v97.315\n                c0,16.668-13.506,30.186-30.181,30.186c-16.668,0-30.189-13.518-30.189-30.186v-97.315h-97.309\n                c-16.674,0-30.192-13.512-30.192-30.187c0-16.674,13.518-30.188,30.192-30.188h97.315v-97.31c0-16.674,13.515-30.183,30.189-30.183\n                c16.675,0,30.187,13.509,30.187,30.183v97.315h97.314c16.669,0,30.192,13.515,30.192,30.188\n                C389.46,251.97,375.937,265.476,359.268,265.476z"})],-1))),Pe={class:"wt-accordion-content"},Re={class:"wt-list-member-table"},Ye=Me((()=>(0,n._)("thead",{class:"wt-list-member-header"},[(0,n._)("tr",{class:"wt-list-member-header-row"},[(0,n._)("th",{class:"wt-list-member-header-cell"},"Start"),(0,n._)("th",{class:"wt-list-member-header-cell"},"End"),(0,n._)("th",{class:"wt-list-member-header-cell wt-list-member-header-cell__action"},"Actions")])],-1))),Ze={class:"wt-list-member-body"},qe={class:"wt-list-member-body-cell"},Ge={class:"wt-list-member-body-cell"},He={class:"wt-list-member-body-cell wt-list-member-body-cell__action"},Ke=["onClick"],Qe={class:"wt-table-pagination-container","aria-label":"Table pagination"},Xe={class:"wt-table-pagination"},et={class:"wt-table-page-item"},tt=["disabled"],st={class:"wt-table-page-item"},at=["onClick"],nt={class:"wt-table-page-item"},ot=["disabled"],it={class:"cell-container-cell-2 flex flex-col h-full z-10 overflow-hidden"},rt={class:"cell-container-cell-1 day-label text-sm text-gray-900"},lt={class:"cell-container-cell flex-grow overflow-y-auto overflow-x-auto",style:{"z-index":"0"}},ct=["id"],dt=["onClick"],ht=Me((()=>(0,n._)("span",{class:"dot"},null,-1))),mt={class:"modal-update-wt"},ut={class:"modal-mask"},pt={class:"modal-wrapper"},gt={class:"modal-container"},wt={class:"modal-header"},vt={class:"modal-body"},ft=Me((()=>(0,n._)("label",{for:"selectedStart",class:"block text-sm font-medium text-gray-700"},"Start",-1))),bt=Me((()=>(0,n._)("label",{for:"selectedEnd",class:"block text-sm font-medium text-gray-700"},"End",-1))),_t={class:"modal-footer"},yt={key:0},kt={key:1},Tt=Me((()=>(0,n._)("span",null,null,-1)));function St(e,t,s,o,i,l){const c=(0,n.up)("Toggle"),d=(0,n.up)("v-calendar");return(0,n.wg)(),(0,n.iD)("div",Ne,[(0,n._)("div",xe,[Ie,(0,n._)("div",Ve,[(0,n.Wm)(c,{modelValue:i.listView,"onUpdate:modelValue":t[0]||(t[0]=e=>i.listView=e),offLabel:"Calendar",onLabel:"List"},null,8,["modelValue"])]),i.listView?((0,n.wg)(),(0,n.iD)("div",$e,[(0,n._)("div",Le,[Fe,(0,n._)("div",Je,[Ee,(0,n.wy)((0,n._)("input",{class:"wt-list-search-input",id:"search",name:"search",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.searchParams=e)},null,512),[[a.nr,i.searchParams]])]),(0,n._)("button",{onClick:t[2]||(t[2]=e=>l.openCreateWt("create")),class:"wt-list-charts-link"},[Be,(0,n.Uk)(" Add ")])]),(0,n._)("div",Pe,[(0,n._)("table",Re,[Ye,(0,n._)("tbody",Ze,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.displayedWorkingTimes,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,class:"wt-list-member-body-row"},[(0,n._)("td",qe,(0,r.zw)(l.readableDatetime(e.start)),1),(0,n._)("td",Ge,(0,r.zw)(l.readableDatetime(e.end)),1),(0,n._)("td",He,[(0,n._)("button",{class:"wt-list-member-body-link",onClick:t=>l.openSelectedWorkingTime({customData:{startTime:e.start,endTime:e.end,id:e.id}},"update")}," Edit ",8,Ke)])])))),128))])]),(0,n._)("div",Qe,[(0,n._)("ul",Xe,[(0,n._)("li",et,[(0,n._)("button",{type:"button",disabled:1==i.page,class:(0,r.C_)(1!=i.page?"wt-table-page-link":"wt-table-page-link wt-table-page-link__disabled"),onClick:t[3]||(t[3]=e=>i.page--)},"Prev",10,tt)]),(0,n._)("li",st,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.pages.slice(i.page-1,i.page+5),(e=>((0,n.wg)(),(0,n.iD)("button",{type:"button",class:(0,r.C_)(i.page===e?"wt-table-page-link-number wt-table-page-link-number__current":"wt-table-page-link-number"),onClick:t=>i.page=e},(0,r.zw)(e),11,at)))),256))]),(0,n._)("li",nt,[(0,n._)("button",{type:"button",onClick:t[4]||(t[4]=e=>i.page++),disabled:i.page==i.pages.length,class:(0,r.C_)(i.page<i.pages.length?"wt-table-page-link":"wt-table-page-link wt-table-page-link__disabled")},"Next",10,ot)])])])])])):(0,n.kq)("",!0),i.listView?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:1,class:"custom-calendar max-w-full",masks:i.masks,attributes:i.attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":(0,n.w5)((({day:e,attributes:t})=>[(0,n._)("div",it,[(0,n._)("span",rt,(0,r.zw)(e.day),1),(0,n._)("div",lt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.key,class:(0,r.C_)(["cell-container text-xs leading-tight rounded-sm p-1 mt-0 mb-1 calendarBorder",e.customData.class]),id:e.customData.id,style:{"z-index":"0"}},[(0,n._)("p",{onClick:t=>l.openSelectedWorkingTime(e,"update"),class:"cell"},[ht,(0,n.Uk)(" "+(0,r.zw)(e.customData.start)+" - "+(0,r.zw)(e.customData.end),1)],8,dt)],10,ct)))),128))])])])),_:1},8,["masks","attributes"]))]),(0,n.wy)((0,n._)("div",mt,[(0,n._)("div",ut,[(0,n._)("div",pt,[(0,n._)("div",gt,[(0,n._)("div",wt,[(0,n.WI)(e.$slots,"header",{},void 0,!0)]),(0,n._)("div",vt,[ft,(0,n.wy)((0,n._)("input",{type:"datetime-local",name:"selectedStart",id:"selectedStart","onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedStart=e),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.selectedStart]]),bt,(0,n.wy)((0,n._)("input",{type:"datetime-local",name:"selectedEnd",id:"selectedEnd","onUpdate:modelValue":t[6]||(t[6]=e=>i.selectedEnd=e),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.selectedEnd]])]),(0,n._)("div",_t,[(0,n._)("button",{class:"modal-footer-button",onClick:t[7]||(t[7]=e=>"create"===i.mode?l.createWorkingTime():l.updateWorkingTime())},["create"===i.mode?((0,n.wg)(),(0,n.iD)("span",yt,"Create")):((0,n.wg)(),(0,n.iD)("span",kt,"Update")),Tt]),(0,n._)("button",{class:"modal-footer-button",onClick:t[8]||(t[8]=e=>l.hideModal())},"Cancel")])])])])],512),[[a.F8,i.editVisible]])])}var Dt=s(6617),jt={components:{Toggle:Dt.Z},data(){return{wT:[],visible:!1,masks:{weekdays:"WWW"},attributes:[],selectedStart:"2000-01-01T00:00:00",selectedEnd:"2000-01-01T01:00:00",editVisible:!1,wtId:null,mode:null,listView:!0,searchParams:"",page:1,perPage:5,pages:[]}},async created(){await this.getWorkingTimesUser()},methods:{getWorkingTimesUser:async function(){const e=parseInt(this.$route.params.userID),t=await fetch("http://time-manager.ovh:4001/api/workingtimes/"+e,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}),{content:s,success:a}=await t.json();if(a&&s&&s.length>0){this.wT=s;var n=[],o=1;this.wT.forEach((e=>{var t=e.start.slice(0,-1),s=e.end.slice(0,-1),a=e.start;a=a.split("T");var i=a[0].split("-"),r=a[1].slice(0,-1),l=e.end;l=l.split("T");var c=l[1].slice(0,-1),d={key:o,isVisible:!1,customData:{id:e.id,title:"workingTime",class:"bg-red-600 text-white",startTime:t,endTime:s,start:r,end:c},dates:new Date(i[0],parseInt(i[1])-1,i[2])};n.push(d),o++})),this.attributes=n}else this.$toast.error("No working time found",{position:"top-right"})},openSelectedWorkingTime:function(e,t){this.mode=t,this.editVisible=!0,this.selectedStart=e.customData.startTime.replace("Z",""),this.selectedEnd=e.customData.endTime.replace("Z",""),this.wtId=e.customData.id},openCreateWt:function(e){this.mode=e,this.editVisible=!0,this.selectedStart=null,this.selectedEnd=null,this.wtId=null},createWorkingTime:async function(){this.selectedStart=2===this.selectedStart.split(":").length?this.selectedStart+":00Z":this.selectedStart+"Z",this.selectedEnd=2===this.selectedEnd.split(":").length?this.selectedEnd+":00Z":this.selectedEnd+"Z",fetch("http://time-manager.ovh:4001/api/workingtimes/"+JSON.parse(localStorage.session).id,{mode:"cors",method:"POST",body:JSON.stringify({start:this.selectedStart,end:this.selectedEnd}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}).then((e=>e.json())).then((e=>{this.editVisible=!1})),this.selectedStart=this.selectedStart.replace("Z",""),this.selectedEnd=this.selectedEnd.replace("Z","")},updateWorkingTime:function(){var e=this.selectedStart;e=2===e.split(":").length?e+":00Z":e+"Z";var t=this.selectedEnd;t=2===t.split(":").length?t+":00Z":t+"Z",fetch("http://time-manager.ovh:4001/api/workingtimes/"+this.wtId,{mode:"cors",method:"PUT",body:JSON.stringify({start:e,end:t}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}).then((e=>e.json())).then((e=>{this.editVisible=!1}))},hideModal:function(){this.editVisible=!1},switchView:function(){this.listView=!this.listView},readableDatetime:function(e){return`${e.split("T")[0]} ${e.split("T")[1].replace("Z","")}`},filterBySearchWt:function(){return this.searchParams&&""!==this.searchParams?this.wT.filter((e=>e.start.includes(this.searchParams)||e.end.includes(this.searchParams))):this.wT},setPages(){let e=Math.ceil(this.filterBySearchWt().length/this.perPage),t=[];for(let s=1;s<=e;s++)t.push(s);t.length===this.pages.length&&t.every(((e,t)=>e===this.pages[t]))||(this.pages=t)},paginate(e){let t=this.page,s=this.perPage,a=t*s-s,n=t*s;return e.slice(a,n)}},computed:{displayedWorkingTimes(){return this.paginate(this.filterBySearchWt())}},watch:{async editVisible(){await this.getWorkingTimesUser()},wT(){this.setPages()},searchParams(){this.page=1,this.setPages()}}};const Ut=(0,V.Z)(jt,[["render",St],["__scopeId","data-v-d7a0ec3e"]]);var zt=Ut;const Ct=e=>((0,n.dD)("data-v-95b00452"),e=e(),(0,n.Cn)(),e),At={class:"dashboard-container"},Wt=Ct((()=>(0,n._)("div",{class:"menu-title-container"},[(0,n._)("div",{class:"greeting-card"},[(0,n._)("h1",{class:"menu-title"},"Dashboard")])],-1))),Ot={key:0,class:"nav-dashboard"},Mt=Ct((()=>(0,n._)("button",{class:"app-button"}," All ",-1))),Nt=Ct((()=>(0,n._)("button",{class:"app-button"}," Week ",-1))),xt=Ct((()=>(0,n._)("button",{class:"app-button"}," Year ",-1))),It=Ct((()=>(0,n._)("button",{class:"app-button"}," Day ",-1)));function Vt(e,t,s,a,o,i){const r=(0,n.up)("router-link"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",At,[Wt,""!==e.path&&-1!==e.idToGo?((0,n.wg)(),(0,n.iD)("div",Ot,[(0,n.Wm)(r,{to:{path:`/${e.path}/${e.idToGo}`}},{default:(0,n.w5)((()=>[Mt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${e.path}/${e.idToGo}/bar`}},{default:(0,n.w5)((()=>[Nt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${e.path}/${e.idToGo}/line`}},{default:(0,n.w5)((()=>[xt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${e.path}/${e.idToGo}/doughnut`}},{default:(0,n.w5)((()=>[It])),_:1},8,["to"])])):(0,n.kq)("",!0),(0,n.Wm)(l)])}var $t={data:function(){return{userID:JSON.parse(localStorage.session).id,user:!1,team:!1,path:"",idToGo:-1}},mounted(){this.getFunction()},methods:{getFunction:function(){const e=this.$route.params.userID,t=this.$route.params.teamID;void 0!==e?(this.path="chart_manager",this.idToGo=e):(this.path="chart_managerTeam",this.idToGo=t)}}};const Lt=(0,V.Z)($t,[["render",Vt],["__scopeId","data-v-95b00452"]]);var Ft=Lt;const Jt={class:"dashboard-all-container"},Et={class:"dashboard-bar-container"},Bt={class:"dashboard-line-container"},Pt={class:"dashboard-doughnut-container"};function Rt(e,t,s,a,o,i){const r=(0,n.up)("Bar"),l=(0,n.up)("Line"),c=(0,n.up)("Doughnut");return(0,n.wg)(),(0,n.iD)("div",Jt,[(0,n._)("div",Et,[(0,n.Wm)(r)]),(0,n._)("div",Bt,[(0,n.Wm)(l)]),(0,n._)("div",Pt,[(0,n.Wm)(c)])])}const Yt=e=>((0,n.dD)("data-v-ac51e912"),e=e(),(0,n.Cn)(),e),Zt={class:"card-chart card"},qt={class:"card-chart card-content"},Gt={class:"row"},Ht={class:"col s12"},Kt={class:"chart-card-title"},Qt={class:"chart-card-info"},Xt={class:"bar-week-nav"},es={class:""},ts=Yt((()=>(0,n._)("svg",{viewBox:"0 0 492 492"},[(0,n._)("path",{d:"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12\n                      C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084\n                      c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864\n                      l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"})],-1))),ss=[ts],as={class:""},ns={class:"chart-card-title"},os={class:""},is={viewBox:"0 0 492.004 492.004",style:{"enable-background":"new 0 0 492.004 492.004"}},rs=Yt((()=>(0,n._)("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\n                  c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\n                  c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\n                  c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"},null,-1))),ls=[rs],cs={class:"bar-chart-container"};function ds(e,t,s,a,o,i){const l=(0,n.up)("Bar",!0);return(0,n.wg)(),(0,n.iD)("div",Zt,[(0,n._)("div",qt,[(0,n._)("div",Gt,[(0,n._)("div",Ht,[(0,n._)("h3",Kt,"Week Working time ("+(0,r.zw)(e.contract)+" hours contract)",1),(0,n._)("span",Qt,"Total: "+(0,r.zw)(e.totalWeekWorkTime)+" hours",1)])]),(0,n._)("div",Xt,[(0,n._)("div",es,[(0,n._)("button",{class:"app-button",onClick:t[0]||(t[0]=(...e)=>i.getPreviousWeek&&i.getPreviousWeek(...e))},ss)]),(0,n._)("div",as,[(0,n._)("span",ns,(0,r.zw)(e.startShow)+" - "+(0,r.zw)(e.endShow),1)]),(0,n._)("div",os,[(0,n._)("button",{class:"app-button",onClick:t[1]||(t[1]=(...e)=>i.getNextWeek&&i.getNextWeek(...e))},[((0,n.wg)(),(0,n.iD)("svg",is,ls))])])]),(0,n._)("div",cs,[e.loaded?((0,n.wg)(),(0,n.j4)(l,{key:0,"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":s.chartId,"dataset-id-key":s.datasetIdKey,plugins:s.plugins,"css-classes":s.cssClasses,styles:i.styles,width:s.width,height:s.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])):(0,n.kq)("",!0)])])])}var hs=s(6294),ms=s(741),us={getAllWorkingTimesUser:async function(e,t,s){if(t&&s){const a=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}?start=${t}&end=${s}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return a.json()}if(t&&!s){const s=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}?start=${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return s.json()}if(s&&!t){const t=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}?end=${s}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()}{const t=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()}},getOneWorkingTimesUser:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/users/${e}/workingtimes/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return s.json()},createWorkingTimesUser:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify(t)});return s.json()},updateWorkingTimesUser:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}`,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify(t)});return s.json()},deleteWorkingTimesUser:async function(e){const t=await fetch(`http://time-manager.ovh:4001/api/workingtimes/${e}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()},retrieveWorkingTimeByTeam:async function(e,t,s){const a=await fetch(`http://time-manager.ovh:4001/api/workingtimesTeams/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return a.json()}},ps=s(2864),gs=s.n(ps);const ws="Europe/Amsterdam";var vs={convertLocalToGMT:function(e,t,s){if(!0===s)a=new Date(e),a.setHours(1,0,0),a=a.toISOString();else if(!1===s)a=new Date(e),a.setDate(a.getDate()+1),a.setHours(0,59,59),a=a.toISOString();else{var a=new Date;a=new Date(e).toISOString()}return t?a.toString():a.toString().replace("."+a.toString().split(".")[1],"Z")},getWeekList:function(e){let t=[[],[],[],[],[],[],[]];if(e)for(const s of e){let e=new Date(s.start);e=e.getDay(),t[e].push(s)}return t},getMonthList:function(e){let t=[[],[],[],[],[],[],[],[],[],[],[],[]];if(e&&e.length>0){for(const s of e){let e=new Date(s.start);e=e.getMonth(),t[e].push(s)}return t}return[]},getDaysList:function(e){let t=[];const s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let a=0;a<7;a++){let n=new Date(e);n.setDate(n.getDate()+a),n=gs()(n).tz(ws).format(),t.push(s[a]+", "+n.split("T")[0])}return t},getWeekWorkTime:function(e){const t=this.getWeekList(e);let s=[],a=0;for(let o=0;o<t.length;o++){s[o]=0;for(const e of t[o]){let t=new Date(e.start),a=new Date(e.end),n=a-t;s[o]=s[o]+n}s[o]=s[o]/36e5}const n=s[0];for(let o=1;o<s.length;o++)s[o-1]=s[o],a+=s[o];return s[6]=n,a=(a+n).toFixed(1),s=s.map((e=>e.toFixed(1))),{weekWorkTimeByDay:s,totalWeekWorkTime:a}},getThisWeekLimits:function(){let e=new Date,t=e.getDay(),s=new Date,a=new Date;0==t?s.setDate(s.getDate()-6):(s.setDate(s.getDate()-t+1),a.setDate(e.getDate()+6-t+1)),s.setHours(0,0,0,0),a.setHours(23,59,59,0),s=gs()(s).tz(ws).format(),a=gs()(a).tz(ws).format();const n=this.convertLocalToGMT(s,!1,!0),o=this.convertLocalToGMT(a,!1,!1);return s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),a=a.split("T")[0]+" "+a.split("T")[1].slice(0,8),{start:s,end:a,utcStart:n,utcEnd:o}},getThisYearLimits:function(){let e=new Date,t=e.getFullYear(),s=new Date(t,0,1),a=new Date(t,11,31);a.setHours(23,59,59,0),s=gs()(s).tz(ws).format(),a=gs()(a).tz(ws).format();const n=this.convertLocalToGMT(s,!1,!0),o=this.convertLocalToGMT(a,!1,!1);return s=s.slice(0,19)+"Z",{startThisYear:s,endThisYear:a,utcStartThisYear:n,utcEndThisYear:o}},getDayLimits:function(){let e=new Date,t=e.setHours(0,0,0,0),s=e.setHours(23,59,59,0);t=gs()(t).tz(ws).format(),s=gs()(s).tz(ws).format();const a=this.convertLocalToGMT(t,!1,!0),n=this.convertLocalToGMT(s,!1,!1);return t=t.split("T")[0]+" "+t.split("T")[1].slice(0,8),s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),{start:t,end:s,utcStart:a,utcEnd:n}},addDays:function(e,t){let s=new Date(e);return s.setDate(s.getDate()+t),s=gs()(s).tz(ws).format(),s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),this.convertLocalToGMT(s,!1)},isSameDate(e,t){const s=e.getDate(),a=e.getMonth(),n=e.getFullYear(),o=t.getDate(),i=t.getMonth(),r=t.getFullYear();return s===o&&a===i&&n===r},getDayStartTimes(e){let t=[],s=[];for(const a of e)t.includes(a.start)||t.push(a.start);t=t.sort(),s.push(t[0]);for(let a=1;a<t.length;a++){const e=new Date(t[a-1]),n=new Date(t[a]);this.isSameDate(e,n)?n<e&&(s[a-1]=t[a]):s.push(t[a]),s=s.sort()}return s},getDayEndTimes(e){let t=[],s=[];for(const a of e)t.includes(a.end)||t.push(a.end);t=t.sort(),s.push(t[0]);for(let a=1;a<t.length;a++){const e=new Date(t[a-1]),n=new Date(t[a]);this.isSameDate(e,n)?n>e&&(s[a-1]=t[a]):s.push(t[a])}return s},getWorkingTimeByMonth:function(e){const t=this.getMonthList(e);let s=[],a=0;for(let n=0;n<t.length;n++){s[n]=0;for(const e of t[n]){let t=new Date(e.start),a=new Date(e.end),o=a-t;s[n]=s[n]+o}s[n]=s[n]/36e5/7}for(const n of s)a+=n;return a=a.toFixed(1),s=s.map((e=>e.toFixed(1))),{weekWorkTimeByMonth:s,totalYearTime:a}},getDayStats:function(e){let t=0,s=0,a=0,n=new Date(e[0].end),o=new Date(e[0].start);for(const r of e){let e=new Date(r.start),t=new Date(r.end);e<=o&&(o=e),t>=n&&(n=t)}for(const r of e){let e=new Date(r.start),t=new Date(r.end),s=t-e;a+=s}let i=n-o;return i/=36e5,a/=36e5,s=i-a,t=24-i,{work:a,off:t,break:s}},timezone:ws};ms.kL.register(ms.Dx,ms.u,ms.De,ms.ZL,ms.uw,ms.f$);var fs={name:"BarChart",components:{Bar:hs.$Q},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},plugins:{type:Object,default:()=>{}},options:{legend:{display:!1}}},data:()=>({loaded:!1,chartData:null,startShow:null,endShow:null,weekWorkingTime:null,totalWeekWorkTime:null,labelsDates:null,startV:null,endV:null,colorWeek:"blue",contract:35}),async created(){this.loaded=!1;try{const e=vs.getThisWeekLimits();this.startV=e.utcStart,this.endV=e.utcEnd,await this.show(this.startV,this.endV),this.timer=setInterval((()=>{this.show(this.startV,this.endV)}),6e4),this.loaded=!0}catch(e){console.error(e)}},methods:{async getPreviousWeek(){this.startV=vs.addDays(this.startV,-7),this.endV=vs.addDays(this.endV,-7),await this.show(this.startV,this.endV)},async getNextWeek(){this.startV=vs.addDays(this.startV,7),this.endV=vs.addDays(this.endV,7),await this.show(this.startV,this.endV)},async show(e,t){const s=this.$route.params.userID,a=this.$route.params.teamID;if(void 0!==s){const a=await us.getAllWorkingTimesUser(s,e,t),n=vs.getWeekWorkTime(a.content);this.weekWorkingTime=n.weekWorkTimeByDay,this.totalWeekWorkTime=n.totalWeekWorkTime,this.totalWeekWorkTime<35?this.colorWeek="red-text":this.colorWeek="green-text",this.startShow=e.slice(0,10),this.endShow=t.slice(0,10),this.labelsDates=vs.getDaysList(e),this.chartData={labels:this.labelsDates,datasets:[{data:this.weekWorkingTime,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(20, 222, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}else if(null!==a){const s=await us.retrieveWorkingTimeByTeam(a,e,t),n=vs.getWeekWorkTime(s.content);this.weekWorkingTime=n.weekWorkTimeByDay,this.totalWeekWorkTime=n.totalWeekWorkTime,this.totalWeekWorkTime<35?this.colorWeek="red-text":this.colorWeek="green-text",this.startShow=e.slice(0,10),this.endShow=t.slice(0,10),this.labelsDates=vs.getDaysList(e),this.chartData={labels:this.labelsDates,datasets:[{data:this.weekWorkingTime,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(20, 222, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}}},beforeUnmount(){clearInterval(this.timer)},computed:{styles(){return{height:"400px"}}}};const bs=(0,V.Z)(fs,[["render",ds],["__scopeId","data-v-ac51e912"]]);var _s=bs;const ys=e=>((0,n.dD)("data-v-3c6a8441"),e=e(),(0,n.Cn)(),e),ks={class:"card-chart card"},Ts={class:"card-chart card-content"},Ss={class:"row"},Ds={class:"col s12"},js=ys((()=>(0,n._)("h3",{class:"chart-card-title"},"Year Working time",-1))),Us={class:"chart-card-info"},zs={class:"bar-chart-container"};function Cs(e,t,s,a,o,i){const l=(0,n.up)("Line",!0);return(0,n.wg)(),(0,n.iD)("div",ks,[(0,n._)("div",Ts,[(0,n._)("div",Ss,[(0,n._)("div",Ds,[js,(0,n._)("span",Us,"Total: "+(0,r.zw)(e.totalYearWorkTime)+" days (7h) ",1)])]),(0,n._)("div",zs,[e.loaded?((0,n.wg)(),(0,n.j4)(l,{key:0,chartOptions:e.chartOptions,chartData:e.chartData,chartId:s.chartId,width:s.width,height:s.height,cssClasses:s.cssClasses,styles:i.styles,plugins:s.plugins},null,8,["chartOptions","chartData","chartId","width","height","cssClasses","styles","plugins"])):(0,n.kq)("",!0)])])])}ms.kL.register(ms.Dx,ms.u,ms.De,ms.jn,ms.f$,ms.od,ms.uw);var As={name:"LineChart",components:{Line:hs.x1},props:{chartId:{type:String,default:"line-chart"},width:{type:Number,default:470},height:{type:Number,default:200},cssClasses:{default:"",type:String},plugins:{type:Array,default:()=>{}}},data:()=>({loaded:!1,chartData:null,startShow:null,endShow:null,totalYearWorkTime:null,labelsDates:null,startV:null,endV:null}),methods:{async showYear(e,t){const s=this.$route.params.userID,a=this.$route.params.teamID;if(void 0!==s){const a=await us.getAllWorkingTimesUser(s,e,t),n=vs.getWorkingTimeByMonth(a.content);this.graphData=n.weekWorkTimeByMonth,this.totalYearWorkTime=n.totalYearTime,this.year=new Date(e).getFullYear(),this.labels=["January","February","March","April","May","June","July","August","September","October","November","December"]}else if(a){const s=await us.retrieveWorkingTimeByTeam(a,e,t),n=vs.getWorkingTimeByMonth(s.content);this.graphData=n.weekWorkTimeByMonth,this.totalYearWorkTime=n.totalYearTime,this.year=new Date(e).getFullYear(),this.labels=["January","February","March","April","May","June","July","August","September","October","November","December"]}},async showMonth(e){}},async mounted(){this.loaded=!1;try{const e=vs.getThisYearLimits();this.startV=e.startThisYear,this.endV=e.utcEndThisYear,await this.showYear(this.startV,this.endV),this.chartData={labels:this.labels,datasets:[{label:"Data One",backgroundColor:"#f87979",data:this.graphData}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},this.loaded=!0}catch(e){console.error(e)}},beforeUnmount(){clearInterval(this.timer)},computed:{styles(){return{height:"400px"}}}};const Ws=(0,V.Z)(As,[["render",Cs],["__scopeId","data-v-3c6a8441"]]);var Os=Ws;const Ms=e=>((0,n.dD)("data-v-2d52cab3"),e=e(),(0,n.Cn)(),e),Ns={class:"card-chart card"},xs={class:"card-chart card-content"},Is={class:"row"},Vs={class:"col s12"},$s=Ms((()=>(0,n._)("h3",{class:"chart-card-title"},"Day Working time",-1))),Ls={class:"chart-card-info"},Fs={class:"donught-date-container"},Js={class:"bar-chart-container"};function Es(e,t,s,o,i,l){const c=(0,n.up)("Doughnut",!0);return(0,n.wg)(),(0,n.iD)("div",Ns,[(0,n._)("div",xs,[(0,n._)("div",Is,[(0,n._)("div",Vs,[$s,(0,n._)("span",Ls,(0,r.zw)(e.dayShow),1)])]),(0,n._)("div",Fs,[(0,n._)("button",{class:"app-button",onClick:t[0]||(t[0]=(...e)=>l.changeDay&&l.changeDay(...e))},"Display date"),(0,n.wy)((0,n._)("input",{class:"date-input",type:"date","onUpdate:modelValue":t[1]||(t[1]=t=>e.day=t)},null,512),[[a.nr,e.day]])]),(0,n._)("div",Js,[e.loaded?((0,n.wg)(),(0,n.j4)(c,{key:0,chartData:e.chartData,chartOptions:e.chartOptions,chartId:s.chartId,width:s.width,height:s.height,cssClasses:s.cssClasses,styles:l.styles,plugins:s.plugins},null,8,["chartData","chartOptions","chartId","width","height","cssClasses","styles","plugins"])):(0,n.kq)("",!0)])])])}ms.kL.register(ms.Dx,ms.u,ms.De,ms.qi,ms.uw);var Bs={name:"DoughnutChart",components:{Doughnut:hs.$I},props:{chartId:{type:String,default:"doughnut-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},plugins:{type:Array,default:()=>[]}},data:()=>({loaded:!1,chartData:null,startV:null,endV:null,dayShow:null,day:null,break:null,work:null,off:null}),methods:{async changeDay(){this.dayShow=this.day,this.day?(this.startV=vs.convertLocalToGMT(gs()(this.day+"T00:00:00").tz(vs.timezone).format(),!1,!0),this.endV=vs.convertLocalToGMT(gs()(this.day+"T23:59:59").tz(vs.timezone).format(),!1,!1),await this.show(this.startV,this.endV)):window.alert("Please enter a valid date")},async show(e,t){const s=this.$route.params.userID,a=this.$route.params.teamID;if(void 0!==s){const a=await us.getAllWorkingTimesUser(s,e,t);if(a.success){const e=vs.getDayStats(a.content);this.break=e.break.toFixed(1),this.work=e.work.toFixed(1),this.off=e.off.toFixed(1),this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else this.break=0,this.work=0,this.off=0,this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else if(a){const s=await us.retrieveWorkingTimeByTeam(a,e,t);if(s.success){const e=vs.getDayStats(s.content);this.break=e.break.toFixed(1),this.work=e.work.toFixed(1),this.off=e.off.toFixed(1),this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else this.break=0,this.work=0,this.off=0,this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}}},async mounted(){this.loaded=!1;try{const e=new Date,t=vs.getDayLimits();this.dayShow=gs()(e).tz(vs.timezone).format(),this.dayShow=this.dayShow.split("T")[0],this.startV=t.utcStart,this.endV=t.utcEnd,await this.show(this.startV,this.endV),this.timer=setInterval((()=>{this.show(this.startV,this.endV)}),6e4),this.loaded=!0}catch(e){console.log(e)}},computed:{styles(){return{height:"375px"}}}};const Ps=(0,V.Z)(Bs,[["render",Es],["__scopeId","data-v-2d52cab3"]]);var Rs=Ps,Ys={components:{Bar:_s,Line:Os,Doughnut:Rs},data:function(){return{}},mounted(){}};const Zs=(0,V.Z)(Ys,[["render",Rt],["__scopeId","data-v-5ff1657e"]]);var qs=Zs;const Gs=e=>((0,n.dD)("data-v-4d468615"),e=e(),(0,n.Cn)(),e),Hs={class:"mv-container"},Ks=Gs((()=>(0,n._)("div",{class:"mv-title-container"},[(0,n._)("div",{class:"mv-greeting-card"},[(0,n._)("h1",{class:"mv-title"},"Manager View")])],-1))),Qs={class:"mv-new-team-container"},Xs=Gs((()=>(0,n._)("svg",{viewBox:"0 0 457.47 457.469"},[(0,n._)("path",{d:"M228.734,0C102.41,0,0,102.41,0,228.735C0,355.06,102.41,457.469,228.734,457.469\n            c126.325,0,228.735-102.409,228.735-228.734C457.47,102.41,355.06,0,228.734,0z M359.268,265.476h-97.326v97.315\n            c0,16.668-13.506,30.186-30.181,30.186c-16.668,0-30.189-13.518-30.189-30.186v-97.315h-97.309\n            c-16.674,0-30.192-13.512-30.192-30.187c0-16.674,13.518-30.188,30.192-30.188h97.315v-97.31c0-16.674,13.515-30.183,30.189-30.183\n            c16.675,0,30.187,13.509,30.187,30.183v97.315h97.314c16.669,0,30.192,13.515,30.192,30.188\n            C389.46,251.97,375.937,265.476,359.268,265.476z"})],-1))),ea={key:0,class:"mv-new-team-modal"},ta={class:"mv-new-team-modal-form"},sa=Gs((()=>(0,n._)("h3",{class:"mv-new-team-modal-form-title"},"Enter a name for your team:",-1))),aa={class:"mv-new-team-modal-form-buttons"},na={class:"mv-accordion-header"},oa={class:"mv-team-name"},ia=Gs((()=>(0,n._)("button",{class:"mv-team-charts-link"},[(0,n._)("svg",{viewBox:"0 0 323.97 323.97"},[(0,n._)("path",{d:"M315.062,175.001h-112.28c-4.907,0-8.907,4-8.907,8.906c0,2.499,1.062,4.75,2.718,6.374l79.062,79.062\n                c1.624,1.75,3.97,2.845,6.533,2.845c3.093,0,5.811-1.563,7.405-3.938c19.438-22.563,31.938-51.219,34.189-82.75\n                c0.125-0.531,0.187-1.062,0.187-1.594C323.97,179.001,320,175.001,315.062,175.001z"}),(0,n._)("path",{d:"M168.875,13.594c-4.907,0.03-8.875,4-8.875,8.906v124.781c0,4.938,3.968,8.938,8.875,8.938h124.813\n                c4.907,0,8.906-4,8.906-8.938C298.187,75.47,240.718,18.001,168.875,13.594z"}),(0,n._)("path",{d:"M237.469,262.063l-92.062-92.062c-1.562-1.594-2.499-3.813-2.499-6.219L142.875,33.75c0-4.906-3.968-8.875-8.875-8.875\n                C59.219,29.438,0,91.562,0,167.47c0,78.906,63.97,142.906,142.875,142.906c36,0,68.875-13.312,94-35.282\n                c1.938-1.626,3.157-4.062,3.157-6.781C240.032,265.906,239.062,263.687,237.469,262.063z"})]),(0,n.Uk)(" Charts ")],-1))),ra={class:"mv-accordion-content"},la={class:"mv-team-member-table"},ca=Gs((()=>(0,n._)("thead",{class:"mv-team-member-header"},[(0,n._)("tr",{class:"mv-team-member-header-row"},[(0,n._)("th",{class:"mv-team-member-header-cell responsive-hide"},"Username"),(0,n._)("th",{class:"mv-team-member-header-cell"},"Email"),(0,n._)("th",{class:"mv-team-member-header-cell"},"Role"),(0,n._)("th",{class:"mv-team-member-header-cell mv-team-member-header-cell__action responsive-hide"},"User working times"),(0,n._)("th",{class:"mv-team-member-header-cell mv-team-member-header-cell__action responsive-hide"},"User dashboard"),(0,n._)("th",{class:"mv-team-member-header-cell mv-team-member-header-cell__action responsive-hide"},"Actions"),(0,n._)("th",{class:"mv-team-member-header-cell mv-team-member-header-cell__action responsive-active"},"Actions")])],-1))),da={class:"mv-team-member-body"},ha={class:"mv-team-member-body-cell responsive-hide"},ma={class:"mv-team-member-body-cell"},ua={class:"mv-team-member-body-cell"},pa={class:"mv-team-member-body-cell mv-team-member-body-cell__action responsive-hide"},ga=Gs((()=>(0,n._)("button",{class:"mv-team-member-body-link"},"Go to",-1))),wa={class:"mv-team-member-body-cell mv-team-member-body-cell__action responsive-hide"},va=Gs((()=>(0,n._)("button",{class:"mv-team-member-body-link"},"Go to",-1))),fa={class:"mv-team-member-body-cell mv-team-member-body-cell__action responsive-hide"},ba=["onClick"],_a={class:"mv-team-member-body-cell-mobile-actions responsive-active"},ya=Gs((()=>(0,n._)("div",{class:"mv-team-member-body-cell-icon-container"},[(0,n._)("svg",{viewBox:"0 0 512 512"},[(0,n._)("path",{d:"m256 121.538c-72.642 0-131.74 59.099-131.74 131.741s59.099 131.739 131.74 131.739 131.74-59.098 131.74-131.739c0-72.642-59.098-131.741-131.74-131.741zm67.469 146.74h-82.469v-82.468h30v52.469h52.469z"}),(0,n._)("path",{d:"m512 219.617h-52.861l-2.744-11.525c-5.04-21.168-13.394-41.321-24.829-59.902l-6.21-10.091 37.392-37.392-51.455-51.454-37.391 37.392-10.091-6.21c-18.58-11.436-38.734-19.789-59.901-24.829l-11.525-2.744v-52.862h-72.768v52.861l-11.525 2.744c-21.167 5.04-41.321 13.394-59.901 24.829l-10.091 6.21-37.391-37.392-51.454 51.454 37.391 37.392-6.21 10.091c-11.436 18.581-19.79 38.735-24.832 59.903l-2.744 11.525h-52.86v72.766h52.86l2.744 11.525c5.041 21.168 13.396 41.322 24.83 59.902l6.21 10.091-37.391 37.391 51.454 51.454 37.391-37.391 10.091 6.21c18.58 11.436 38.734 19.789 59.901 24.829l11.525 2.744v52.862h72.768v-52.861l11.525-2.744c21.167-5.04 41.321-13.394 59.901-24.829l10.091-6.21 37.391 37.392 51.455-51.455-37.392-37.391 6.21-10.091c11.436-18.581 19.789-38.734 24.829-59.902l2.744-11.525h52.863zm-256 195.402c-89.184 0-161.74-72.556-161.74-161.739 0-89.185 72.557-161.741 161.74-161.741s161.74 72.557 161.74 161.741c0 89.183-72.556 161.739-161.74 161.739z"})])],-1))),ka=Gs((()=>(0,n._)("div",{class:"mv-team-member-body-cell-icon-container"},[(0,n._)("svg",{viewBox:"0 0 323.97 323.97"},[(0,n._)("path",{d:"M315.062,175.001h-112.28c-4.907,0-8.907,4-8.907,8.906c0,2.499,1.062,4.75,2.718,6.374l79.062,79.062\n                        c1.624,1.75,3.97,2.845,6.533,2.845c3.093,0,5.811-1.563,7.405-3.938c19.438-22.563,31.938-51.219,34.189-82.75\n                        c0.125-0.531,0.187-1.062,0.187-1.594C323.97,179.001,320,175.001,315.062,175.001z"}),(0,n._)("path",{d:"M168.875,13.594c-4.907,0.03-8.875,4-8.875,8.906v124.781c0,4.938,3.968,8.938,8.875,8.938h124.813\n                        c4.907,0,8.906-4,8.906-8.938C298.187,75.47,240.718,18.001,168.875,13.594z"}),(0,n._)("path",{d:"M237.469,262.063l-92.062-92.062c-1.562-1.594-2.499-3.813-2.499-6.219L142.875,33.75c0-4.906-3.968-8.875-8.875-8.875\n                        C59.219,29.438,0,91.562,0,167.47c0,78.906,63.97,142.906,142.875,142.906c36,0,68.875-13.312,94-35.282\n                        c1.938-1.626,3.157-4.062,3.157-6.781C240.032,265.906,239.062,263.687,237.469,262.063z"})])],-1))),Ta=["onClick"],Sa=Gs((()=>(0,n._)("svg",{viewBox:"0 0 32 32"},[(0,n._)("path",{d:"m19.72 31h-17.72a1 1 0 0 1 -1-1v-2a12.993 12.993 0 0 1 6.61-11.31 10 10 0 0 0 12.8-.01 11.475 11.475 0 0 1 1.46.96 7.989 7.989 0 0 0 -2.15 13.36z"}),(0,n._)("circle",{cx:"14",cy:"9",r:"8"}),(0,n._)("path",{d:"m25 19a5.94 5.94 0 0 0 -2.126.386 6.007 6.007 0 1 0 2.126-.386zm2 7h-4a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"})],-1))),Da=[Sa],ja={class:"mv-team-member-new-member-row"},Ua=["onClick"],za=Gs((()=>(0,n._)("svg",{viewBox:"0 0 24 24"},[(0,n._)("path",{d:"m15 7c0 .90058-.2222 1.73684-.6667 2.50877-.4444.76023-1.0526 1.36843-1.8245 1.82453-.7603.4445-1.5965.6667-2.5088.6667-.90058 0-1.73684-.2222-2.50877-.6667-.76024-.4561-1.36842-1.0643-1.82456-1.82453-.44445-.76023-.66667-1.59649-.66667-2.50877s.22222-1.74854.66667-2.50877c.45614-.77193 1.06432-1.38012 1.82456-1.82456.76023-.44445 1.59649-.66667 2.50877-.66667.9123 0 1.7485.22222 2.5088.66667.7719.44444 1.3801 1.05263 1.8245 1.82456.4445.76023.6667 1.59649.6667 2.50877zm-5 6c1.6023 0 3.0877.2105 4.4561.6316 1.3802.421 2.4796 1.0117 3.2983 1.7719.8304.7602 1.2456 1.6257 1.2456 2.5965 0 .7135-.1813 1.3801-.5439 2-.3508.6082-.8362 1.0936-1.4561 1.4561-.6082.3626-1.2749.5439-2 .5439h-10c-.72515 0-1.39181-.1813-2-.5439-.60819-.3625-1.09357-.8479-1.45614-1.4561s-.54386-1.2749-.54386-2c0-.9708.40936-1.8363 1.22807-2.5965.83041-.7602 1.92982-1.3509 3.29825-1.7719 1.38011-.4211 2.87134-.6316 4.47368-.6316zm8-5c0-.2807.0994-.51462.2982-.70176.1989-.19882.4328-.29824.7018-.29824.2807 0 .5146.09942.7018.29824.1988.18714.2982.42106.2982.70176v6c0 .269-.0994.5029-.2982.7018-.1872.1988-.4211.2982-.7018.2982-.269 0-.5029-.0994-.7018-.2982-.1988-.1989-.2982-.4328-.2982-.7018zm-2 4c-.269 0-.5029-.0994-.7018-.2982-.1988-.1989-.2982-.4328-.2982-.7018 0-.2807.0994-.5146.2982-.7018.1989-.1988.4328-.2982.7018-.2982h6c.2807 0 .5146.0994.7018.2982.1988.1872.2982.4211.2982.7018 0 .269-.0994.5029-.2982.7018-.1872.1988-.4211.2982-.7018.2982z"})],-1))),Ca=[za],Aa={key:0,class:"mv-modal-add-user-mask"},Wa={class:"mv-modal-add-header"},Oa=Gs((()=>(0,n._)("div",{class:"mv-modal-title-container"},[(0,n._)("h3",{class:"mv-modal-title"},"User list")],-1))),Ma=Gs((()=>(0,n._)("svg",{viewBox:"0 0 492 492"},[(0,n._)("path",{d:"M300.188,246L484.14,62.04c5.06-5.064,7.852-11.82,7.86-19.024c0-7.208-2.792-13.972-7.86-19.028L468.02,7.872\n              c-5.068-5.076-11.824-7.856-19.036-7.856c-7.2,0-13.956,2.78-19.024,7.856L246.008,191.82L62.048,7.872\n              c-5.06-5.076-11.82-7.856-19.028-7.856c-7.2,0-13.96,2.78-19.02,7.856L7.872,23.988c-10.496,10.496-10.496,27.568,0,38.052\n              L191.828,246L7.872,429.952c-5.064,5.072-7.852,11.828-7.852,19.032c0,7.204,2.788,13.96,7.852,19.028l16.124,16.116\n              c5.06,5.072,11.824,7.856,19.02,7.856c7.208,0,13.968-2.784,19.028-7.856l183.96-183.952l183.952,183.952\n              c5.068,5.072,11.824,7.856,19.024,7.856h0.008c7.204,0,13.96-2.784,19.028-7.856l16.12-16.116\n              c5.06-5.064,7.852-11.824,7.852-19.028c0-7.204-2.792-13.96-7.852-19.028L300.188,246z"})],-1))),Na=[Ma],xa={class:"mv-modal-add-user"},Ia={class:"mv-modal-add-user-table"},Va=Gs((()=>(0,n._)("thead",{class:"mv-modal-add-user-header"},[(0,n._)("tr",{class:"mv-modal-add-user-header-row"},[(0,n._)("th",{class:"mv-modal-add-user-header-cell responsive-hide"},"Username"),(0,n._)("th",{class:"mv-modal-add-user-header-cell"},"Email"),(0,n._)("th",{class:"mv-modal-add-user-header-cell"},"Role"),(0,n._)("th",{class:"mv-modal-add-user-header-cell mv-modal-add-user-header-cell__action"},"Actions")])],-1))),$a={class:"mv-modal-add-user-body"},La={class:"mv-modal-add-user-body-cell responsive-hide"},Fa={class:"mv-modal-add-user-body-cell"},Ja={class:"mv-modal-add-user-body-cell"},Ea={class:"mv-modal-add-user-body-cell mv-modal-add-user-body-cell__action"},Ba=["onClick"];function Pa(e,t,s,o,i,l){const c=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("div",Hs,[Ks,(0,n._)("div",Qs,[(0,n._)("button",{onClick:t[0]||(t[0]=e=>l.handleShowNewTeamModal(!0)),class:"mv-new-team-button"},[Xs,(0,n.Uk)(" Add a new team ")]),i.showNewTeamModal?((0,n.wg)(),(0,n.iD)("div",ea,[(0,n._)("div",ta,[sa,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.newteam=e),placeholder:"New team"},null,512),[[a.nr,i.newteam]]),(0,n._)("div",aa,[(0,n._)("button",{onClick:t[2]||(t[2]=e=>l.addTeam()),class:"mv-new-team-modal-form-create"}," Create "),(0,n._)("button",{onClick:t[3]||(t[3]=e=>l.handleShowNewTeamModal(!1)),class:"mv-new-team-modal-form-cancel"}," Cancel ")])])])):(0,n.kq)("",!0)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.teams,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"mv-team-accordion"},[(0,n._)("div",na,[(0,n._)("h2",oa,(0,r.zw)(e.team_name),1),(0,n.Wm)(c,{to:{path:`/chart_managerTeam/${e.id}`}},{default:(0,n.w5)((()=>[ia])),_:2},1032,["to"])]),(0,n._)("div",ra,[(0,n._)("table",la,[ca,(0,n._)("tbody",da,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.members,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id,class:"mv-team-member-body-row"},[(0,n._)("td",ha,(0,r.zw)(t.username),1),(0,n._)("td",ma,(0,r.zw)(t.email),1),(0,n._)("td",ua,(0,r.zw)(l.findRoleNameById(t.role_id)),1),(0,n._)("td",pa,[(0,n.Wm)(c,{to:"/working_times/"+t.id},{default:(0,n.w5)((()=>[ga])),_:2},1032,["to"])]),(0,n._)("td",wa,[(0,n.Wm)(c,{to:"/chart_manager/"+t.id},{default:(0,n.w5)((()=>[va])),_:2},1032,["to"])]),(0,n._)("td",fa,[(0,n._)("button",{onClick:s=>l.deleteInTeam(t.id,e.id),class:"mv-team-member-body-delete"},"Remove",8,ba)]),(0,n._)("td",_a,[(0,n.Wm)(c,{to:"/working_times/"+t.id},{default:(0,n.w5)((()=>[ya])),_:2},1032,["to"]),(0,n.Wm)(c,{to:"/chart_manager/"+t.id},{default:(0,n.w5)((()=>[ka])),_:2},1032,["to"]),(0,n._)("div",{onClick:s=>l.deleteInTeam(t.id,e.id),class:"mv-team-member-body-cell-icon-container mv-team-member-body-cell-icon-container__remove"},Da,8,Ta)])])))),128)),(0,n._)("tr",ja,[(0,n._)("td",{onClick:t=>l.handleShowNewUserModal(!0,e.id),class:"mv-team-member-new-member-cell"},Ca,8,Ua)])])])])])))),128)),i.showNewUserModal?((0,n.wg)(),(0,n.iD)("div",Aa,[(0,n._)("div",Wa,[Oa,(0,n._)("div",{onClick:t[4]||(t[4]=e=>l.handleShowNewUserModal(!1)),class:"mv-modal-close-box"},Na)]),(0,n._)("div",xa,[(0,n._)("table",Ia,[Va,(0,n._)("tbody",$a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.filteredBySelectedTeamUsers,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,class:"mv-modal-add-user-body-row"},[(0,n._)("td",La,(0,r.zw)(e.username),1),(0,n._)("td",Fa,(0,r.zw)(e.email),1),(0,n._)("td",Ja,(0,r.zw)(l.findRoleNameById(e.role_id)),1),(0,n._)("td",Ea,[(0,n._)("button",{onClick:t=>l.addMemberInTeam(e.id,i.teamToAdd),class:"mv-modal-add-user-body-add responsive-hide"},"Add",8,Ba)])])))),128))])])])])):(0,n.kq)("",!0)])}var Ra={getAllUsers:async function(){const e=await fetch("http://time-manager.ovh:4001/api/users",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return e.json()},getOneUser:async function(e){const t=await fetch(`http://time-manager.ovh:4001/api/users/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()},createUser:async function(e){const t=await fetch("http://time-manager.ovh:4001/api/users",{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify(e)});return t.json()},updateUser:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/users/${e}`,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify(t)});return s.json()},deleteUser:async function(e){const t=await fetch(`http://time-manager.ovh:4001/api/users/${e}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()},getUserByEmailAndUsername:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/users?email=${e}&username=${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return s.json()},getRoles:async function(){const e=await fetch("http://time-manager.ovh:4001/api/roles",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return e.json()},getUserTeams:async function(e){const t=await fetch(`http://time-manager.ovh:4001/api/teams/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()},getUsersInTeam:async function(e){const t=await fetch(`http://time-manager.ovh:4001/api/teamMember/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return t.json()},createTeam:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/teams/${e}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify({team_name:t})});return s.json()},addMemberInTeam:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/teamMember/${e}/${t}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return s.json()},deleteUserInTeam:async function(e,t){const s=await fetch(`http://time-manager.ovh:4001/api/teamMember/${e}/${t}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}});return s.json()}},Ya={data(){return{session:{active:!1,id:null,username:"",email:""},newteam:"",teamToAdd:null,teams:[],filteredBySelectedTeamUsers:[],users:[],roles:[],showNewTeamModal:!1,showNewUserModal:!1}},async created(){this.session=JSON.parse(localStorage.session),this.getTeams(),this.getUsers(),this.getRoles()},methods:{getTeams:async function(){const e=await Ra.getUserTeams(this.session.id);e?e.success&&e.content.length>0?this.teams=e.content:this.$toast.error(e.error,{position:"top-right"}):this.$toast.error("Something went wrong while retrieving teams",{position:"top-right"})},getUsers:async function(){const e=await Ra.getAllUsers();e?e.success&&e.content.length>0?this.users=e.content:this.$toast.error(e.error,{position:"top-right"}):this.$toast.error("Something went wrong while retrieving teams",{position:"top-right"})},getRoles:async function(){const e=await Ra.getRoles();e?e.success&&e.content.length>0?this.roles=e.content:this.$toast.error(e.error,{position:"top-right"}):this.$toast.error("Something went wrong while retrieving teams",{position:"top-right"})},addTeam:async function(){if(this.newteam&&""!==this.newteam){const e=await Ra.createTeam(this.session.id,this.newteam);e.success?(this.handleShowNewTeamModal(!1),this.$toast.success(e.message,{position:"top-right"})):this.$toast.error(e.error,{position:"top-right"}),await this.getTeams()}else this.$toast.error("Please provide a not empty name",{position:"top-right"})},addMemberInTeam:async function(e,t){const s=await Ra.addMemberInTeam(e,t);s.success?(this.$toast.success(s.message,{position:"top-right"}),await this.getTeams(),await this.getUsers(),this.filteredBySelectedTeamUsers=this.users.filter((e=>!e.teams.map((e=>e.id)).includes(t)))):this.$toast.error(s.error,{position:"top-right"})},deleteInTeam:async function(e,t){const s=await Ra.deleteUserInTeam(e,t);s.success?(this.$toast.success(s.message,{position:"top-right"}),await this.getTeams(),await this.getUsers(),this.filteredBySelectedTeamUsers=this.users.filter((e=>!e.teams.map((e=>e.id)).includes(t)))):this.$toast.error(s.error,{position:"top-right"}),await this.getTeams()},findRoleNameById:function(e){if(this.roles&&this.roles.length>0){const t=this.roles.find((t=>t.id===e));return t?t.role_name:""}return""},handleShowNewTeamModal:function(e){this.showNewTeamModal=e},handleShowNewUserModal:function(e,t=null){t&&(this.teamToAdd=t,this.filteredBySelectedTeamUsers=this.users.filter((e=>!e.teams.map((e=>e.id)).includes(t)))),this.showNewUserModal=e}}};const Za=(0,V.Z)(Ya,[["render",Pa],["__scopeId","data-v-4d468615"]]);var qa=Za;const Ga=e=>((0,n.dD)("data-v-1138d33e"),e=e(),(0,n.Cn)(),e),Ha={class:"admin-view-container"},Ka=Ga((()=>(0,n._)("div",{class:"admin-view-title-container"},[(0,n._)("div",{class:"greeting-card"},[(0,n._)("h1",{class:"admin-view-title"},"Admin View")])],-1))),Qa={class:"admin-view-new-user-container"},Xa=Ga((()=>(0,n._)("svg",{viewBox:"0 0 457.47 457.469"},[(0,n._)("path",{d:"M228.734,0C102.41,0,0,102.41,0,228.735C0,355.06,102.41,457.469,228.734,457.469\n            c126.325,0,228.735-102.409,228.735-228.734C457.47,102.41,355.06,0,228.734,0z M359.268,265.476h-97.326v97.315\n            c0,16.668-13.506,30.186-30.181,30.186c-16.668,0-30.189-13.518-30.189-30.186v-97.315h-97.309\n            c-16.674,0-30.192-13.512-30.192-30.187c0-16.674,13.518-30.188,30.192-30.188h97.315v-97.31c0-16.674,13.515-30.183,30.189-30.183\n            c16.675,0,30.187,13.509,30.187,30.183v97.315h97.314c16.669,0,30.192,13.515,30.192,30.188\n            C389.46,251.97,375.937,265.476,359.268,265.476z"})],-1))),en={key:0,class:"admin-view-new-user-modal"},tn={class:"admin-view-new-user-modal-form"},sn=Ga((()=>(0,n._)("h5",{class:"admin-view-new-user-modal-form-title"},"New user",-1))),an={class:"admin-view-new-user-modal-form-fields"},nn={class:"admin-view-new-user-modal-form-field"},on=Ga((()=>(0,n._)("label",{for:"Username"},"Username",-1))),rn={class:"admin-view-new-user-modal-form-field"},ln=Ga((()=>(0,n._)("label",{for:"email"},"Email",-1))),cn={class:"admin-view-new-user-modal-form-field"},dn=Ga((()=>(0,n._)("label",{for:"password"},"Password",-1))),hn={class:"admin-view-new-user-modal-form-buttons"},mn={class:"user-table-container"},un=Ga((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{class:"header-id responsive-hide"},"ID"),(0,n._)("th",{class:"header-primary"},"Username"),(0,n._)("th",{class:"header-primary responsive-hide"},"Email"),(0,n._)("th",{class:"header-secondary"},"Roles"),(0,n._)("th",{class:"header-action"},"Work"),(0,n._)("th",{class:"header-action"},"Action")])],-1))),pn={key:0},gn={class:"row-id responsive-hide"},wn={class:"row-primary"},vn=["id","onUpdate:modelValue"],fn={class:"row-primary responsive-hide"},bn=["id","onUpdate:modelValue"],_n={class:"row-secondary"},yn=["id","onUpdate:modelValue"],kn=["value"],Tn={class:"row-action"},Sn=Ga((()=>(0,n._)("button",{class:"button-action"},"Go to",-1))),Dn={class:"row-action"},jn=["onClick"],Un={class:"roles-container"},zn={class:"role-table-container"},Cn=Ga((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{class:"header-id responsive-hide"},"ID"),(0,n._)("th",null,"Label"),(0,n._)("th",{class:"header-icon"},"Manager status"),(0,n._)("th",{class:"header-icon"},"Admin status")])],-1))),An={class:"row-id responsive-hide"},Wn={class:"row-icon"},On={key:0,viewBox:"0 0 512 512",width:"16px",height:"16px"},Mn=Ga((()=>(0,n._)("path",{d:"m256 0c-140.7 0-256 115.3-256 256s115.3 256 256 256 256-115.3 256-256-115.3-256-256-256z",fill:"#57d9ad"},null,-1))),Nn=Ga((()=>(0,n._)("path",{d:"m512 256c0 140.7-115.3 256-256 256v-512c140.7 0 256 115.3 256 256z",fill:"#26bfa6"},null,-1))),xn=Ga((()=>(0,n._)("path",{d:"m400.3 199.3-144.3 143.999-30 30-114.3-113.999 42.6-42.6 71.7 71.999 30-30 101.7-101.999z",fill:"#f2f2f2"},null,-1))),In=Ga((()=>(0,n._)("path",{d:"m400.3 199.3-144.3 143.999v-84.6l101.7-101.999z",fill:"#e7e7f2"},null,-1))),Vn=[Mn,Nn,xn,In],$n={key:1,viewBox:"0 0 512 512",width:"16px",height:"16px"},Ln=Ga((()=>(0,n._)("path",{d:"m256 0c-140.7 0-256 115.3-256 256s115.3 256 256 256 256-115.3 256-256-115.3-256-256-256z",fill:"#ff7b4a"},null,-1))),Fn=Ga((()=>(0,n._)("path",{d:"m512 256c0 140.7-115.3 256-256 256v-512c140.7 0 256 115.3 256 256z",fill:"#ff435b"},null,-1))),Jn=Ga((()=>(0,n._)("path",{d:"m298.299 256 74.401 74.099-42.601 42.601-74.099-74.401-74.099 74.401-42.601-42.601 74.401-74.099-74.401-74.101 42.601-42.599 74.099 74.399 74.099-74.399 42.601 42.599z",fill:"#f2f2f2"},null,-1))),En=Ga((()=>(0,n._)("path",{d:"m298.299 256 74.401 74.099-42.601 42.601-74.099-74.401v-84.6l74.099-74.399 42.601 42.599z",fill:"#e7e7f2"},null,-1))),Bn=[Ln,Fn,Jn,En],Pn={class:"row-icon"},Rn={key:0,viewBox:"0 0 512 512",width:"16px",height:"16px"},Yn=Ga((()=>(0,n._)("path",{d:"m256 0c-140.7 0-256 115.3-256 256s115.3 256 256 256 256-115.3 256-256-115.3-256-256-256z",fill:"#57d9ad"},null,-1))),Zn=Ga((()=>(0,n._)("path",{d:"m512 256c0 140.7-115.3 256-256 256v-512c140.7 0 256 115.3 256 256z",fill:"#26bfa6"},null,-1))),qn=Ga((()=>(0,n._)("path",{d:"m400.3 199.3-144.3 143.999-30 30-114.3-113.999 42.6-42.6 71.7 71.999 30-30 101.7-101.999z",fill:"#f2f2f2"},null,-1))),Gn=Ga((()=>(0,n._)("path",{d:"m400.3 199.3-144.3 143.999v-84.6l101.7-101.999z",fill:"#e7e7f2"},null,-1))),Hn=[Yn,Zn,qn,Gn],Kn={key:1,viewBox:"0 0 512 512",width:"16px",height:"16px"},Qn=Ga((()=>(0,n._)("path",{d:"m256 0c-140.7 0-256 115.3-256 256s115.3 256 256 256 256-115.3 256-256-115.3-256-256-256z",fill:"#ff7b4a"},null,-1))),Xn=Ga((()=>(0,n._)("path",{d:"m512 256c0 140.7-115.3 256-256 256v-512c140.7 0 256 115.3 256 256z",fill:"#ff435b"},null,-1))),eo=Ga((()=>(0,n._)("path",{d:"m298.299 256 74.401 74.099-42.601 42.601-74.099-74.401-74.099 74.401-42.601-42.601 74.401-74.099-74.401-74.101 42.601-42.599 74.099 74.399 74.099-74.399 42.601 42.599z",fill:"#f2f2f2"},null,-1))),to=Ga((()=>(0,n._)("path",{d:"m298.299 256 74.401 74.099-42.601 42.601-74.099-74.401v-84.6l74.099-74.399 42.601 42.599z",fill:"#e7e7f2"},null,-1))),so=[Qn,Xn,eo,to],ao={class:"role-creation-container"},no={class:"role-creation-field"},oo=Ga((()=>(0,n._)("label",{for:"checkbox"},"Role name",-1))),io={class:"role-creation-field"},ro=Ga((()=>(0,n._)("label",{for:"newIsAuthoriseManager"},"Manager status",-1))),lo=Ga((()=>(0,n._)("option",{disabled:"",value:""},"Does this role have manager permissions ?",-1))),co=Ga((()=>(0,n._)("option",null,"True",-1))),ho=Ga((()=>(0,n._)("option",null,"False",-1))),mo=[lo,co,ho],uo={class:"role-creation-field"},po=Ga((()=>(0,n._)("label",{for:"newIsAuthoriseAdmin"},"Admin status",-1))),go=Ga((()=>(0,n._)("option",{disabled:"",value:""},"Does this role have admin permissions ?",-1))),wo=Ga((()=>(0,n._)("option",null,"True",-1))),vo=Ga((()=>(0,n._)("option",null,"False",-1))),fo=[go,wo,vo];function bo(e,t,s,o,i,l){const c=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("div",Ha,[Ka,(0,n._)("div",Qa,[(0,n._)("button",{onClick:t[0]||(t[0]=e=>l.handleShowNewUserModal(!0)),class:"admin-view-new-user-button"},[Xa,(0,n.Uk)(" Add a new user ")]),i.showNewUserModal?((0,n.wg)(),(0,n.iD)("div",en,[(0,n._)("div",tn,[sn,(0,n._)("div",an,[(0,n._)("div",nn,[on,(0,n.wy)((0,n._)("input",{id:"username",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.newUser.username=e)},null,512),[[a.nr,i.newUser.username]])]),(0,n._)("div",rn,[ln,(0,n.wy)((0,n._)("input",{id:"email",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>i.newUser.email=e)},null,512),[[a.nr,i.newUser.email]])]),(0,n._)("div",cn,[dn,(0,n.wy)((0,n._)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>i.newUser.password=e)},null,512),[[a.nr,i.newUser.password]])])]),(0,n._)("div",hn,[(0,n._)("button",{onClick:t[4]||(t[4]=e=>l.createUser()),class:"admin-view-new-user-modal-form-create"}," Create "),(0,n._)("button",{onClick:t[5]||(t[5]=e=>l.handleShowNewUserModal(!1)),class:"admin-view-new-user-modal-form-cancel"}," Cancel ")])])])):(0,n.kq)("",!0)]),(0,n._)("div",mn,[(0,n._)("table",null,[un,i.roles.length>0&&i.users.length>0?((0,n.wg)(),(0,n.iD)("tbody",pn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.users,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",gn,(0,r.zw)(e.id),1),(0,n._)("td",wn,[(0,n.wy)((0,n._)("input",{type:"text",name:"username",id:`username-${e.id}`,"onUpdate:modelValue":t=>e.username=t,class:""},null,8,vn),[[a.nr,e.username]])]),(0,n._)("td",fn,[(0,n.wy)((0,n._)("input",{type:"text",name:"email",id:`email-${e.id}`,"onUpdate:modelValue":t=>e.email=t},null,8,bn),[[a.nr,e.email]])]),(0,n._)("td",_n,[(0,n.wy)((0,n._)("select",{id:`roles-${e.id}`,"onUpdate:modelValue":e=>i.selectedUserRoles[t]=e,class:""},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.roles,(e=>((0,n.wg)(),(0,n.iD)("option",{value:e.id,key:e.id},(0,r.zw)(e.role_name),9,kn)))),128))],8,yn),[[a.bM,i.selectedUserRoles[t]]])]),(0,n._)("td",Tn,[(0,n.Wm)(c,{to:"/working_times/"+e.id},{default:(0,n.w5)((()=>[Sn])),_:2},1032,["to"])]),(0,n._)("td",Dn,[(0,n._)("button",{class:"button-action button-action__green",onClick:s=>{l.updateUser({...e,role_id:i.selectedUserRoles[t]})}},"Save",8,jn)])])))),128))])):(0,n.kq)("",!0)])]),(0,n._)("div",Un,[(0,n._)("div",zn,[(0,n._)("table",null,[Cn,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.roles,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.role_name},[(0,n._)("td",An,(0,r.zw)(e.id),1),(0,n._)("td",null,(0,r.zw)(e.role_name),1),(0,n._)("td",Wn,[e.isAuthoriseManager?((0,n.wg)(),(0,n.iD)("svg",On,Vn)):(0,n.kq)("",!0),e.isAuthoriseManager?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("svg",$n,Bn))]),(0,n._)("td",Pn,[e.isAuthoriseAdmin?((0,n.wg)(),(0,n.iD)("svg",Rn,Hn)):(0,n.kq)("",!0),e.isAuthoriseAdmin?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("svg",Kn,so))])])))),128))])])]),(0,n._)("div",ao,[(0,n._)("div",no,[oo,(0,n.wy)((0,n._)("input",{type:"text",name:"role_name",id:"role_name","onUpdate:modelValue":t[6]||(t[6]=e=>i.newRole.role_name=e),placeholder:"New role name"},null,512),[[a.nr,i.newRole.role_name]])]),(0,n._)("div",io,[ro,(0,n.wy)((0,n._)("select",{id:"newIsAuthoriseManager","onUpdate:modelValue":t[7]||(t[7]=e=>i.newRole.isAuthoriseManager=e)},mo,512),[[a.bM,i.newRole.isAuthoriseManager]])]),(0,n._)("div",uo,[po,(0,n.wy)((0,n._)("select",{id:"newIsAuthoriseAdmin","onUpdate:modelValue":t[8]||(t[8]=e=>i.newRole.isAuthoriseAdmin=e)},fo,512),[[a.bM,i.newRole.isAuthoriseAdmin]])]),(0,n._)("button",{class:"app-button",onClick:t[9]||(t[9]=e=>l.createRole())},"Add a new role")])])])}var _o={data(){return{users:[],newUser:{username:"",email:"",password:""},showNewUserModal:!1,selectedUserRoles:[],roles:[],newRole:{role_name:"",isAuthoriseManager:"False",isAuthoriseAdmin:"False"}}},async created(){await this.getUsers(),await this.getRoles()},methods:{getUsers:async function(){fetch("http://time-manager.ovh:4001/api/users",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}).then((e=>e.json())).then((e=>{this.users=e.content,this.selectedUserRoles=this.users.map((e=>e.role_id))}))},createUser:function(){const e=this.checkUserInfos(this.newUser.username,this.newUser.email,this.newUser.password);e.valid?fetch("http://time-manager.ovh:4001/api/auth/register",{mode:"cors",method:"POST",body:JSON.stringify({username:this.newUser.username,email:this.newUser.email,password:this.newUser.password}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())).then((t=>{t.success?(this.$toast.success("User created !",{position:"top-right"}),this.getUsers(),this.handleShowNewUserModal(!1)):t&&t.error&&""!==t.error&&this.$toast.error("Something went wrong. "+e.message,{position:"top-right"})})):this.$toast.error(e.message,{position:"top-right"})},updateUser:async function(e){fetch("http://time-manager.ovh:4001/api/users/"+e.id,{method:"PUT",mode:"cors",body:JSON.stringify({username:e.username,email:e.email,role_id:e.role_id}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}).then((e=>e.json())).then((()=>{this.getUsers()}))},resetNewUser:function(){this.newUser={username:"",email:"",password:""}},getRoles:async function(){fetch("http://time-manager.ovh:4001/api/roles",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}).then((e=>e.json())).then((e=>{this.roles=e.content}))},createRole:async function(){fetch("http://time-manager.ovh:4001/api/roles",{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token},body:JSON.stringify({...this.newRole,isAuthoriseManager:"true"===this.newRole.isAuthoriseManager.toLocaleLowerCase(),isAuthoriseAdmin:"true"===this.newRole.isAuthoriseAdmin.toLocaleLowerCase()})}).then((e=>e.json())).then((()=>{this.newRole={role_name:"",isAuthoriseManager:"False",isAuthoriseAdmin:"False"},this.getRoles()}))},checkUserInfos:function(e,t,s){let a={valid:!1,message:"Invalid informations given"};return e&&t&&s&&"string"===typeof e&&e.length>2&&e.length<16&&"string"===typeof t&&t.length>0&&"string"===typeof s&&s.length>=8&&s.length<=30?{...a,valid:!0,message:""}:e&&e.length<2?{...a,message:"Username need to include at least 2 characters"}:e&&e.length>=16?{...a,message:"Username need to includes less than 16 character"}:t&&t.length<=0||!t.includes("@")?{...a,message:"Invalid email"}:s&&s.length<8?{...a,message:"Password need to includes at least 8 characters"}:s&&s.length>30?{...a,message:"Password need to includes less than 30 characters"}:void 0===e?{...a,message:"Please provide a no empty username"}:void 0===t?{...a,message:"Please provide a no empty email"}:void 0===s?{...a,message:"Please provide a no empty password"}:""===e?{...a,message:"Please provide a no empty username"}:""===t?{...a,message:"Please provide a no empty email"}:""===s?{...a,message:"Please provide a no empty password"}:{...a,message:"An unexpected error occurred. Please try again or contact your administrator"}},handleShowNewUserModal:function(e){e||this.resetNewUser(),this.showNewUserModal=e}}};const yo=(0,V.Z)(_o,[["render",bo],["__scopeId","data-v-1138d33e"]]);var ko=yo,To=s(1598),So=s(5860);const Do=(0,So.RN)({position:"top-right"}),jo=(0,i.p7)({history:(0,i.r5)({VUE_APP_API_URL:"http://time-manager.ovh:4001/api",VUE_APP_LOGIN_URL:"http://time-manager.ovh:8080/",NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BASE_URL),base:"/",routes:[{path:"/",name:"login",component:L},{path:"/home",name:"home",component:fe},{path:"/working_times/:userID",name:"working_times",component:zt},{path:"/chart_manager/:userID",name:"chart_manager",component:Ft,children:[{path:"",component:qs,name:"all"},{path:"bar",component:_s,name:"bar"},{path:"line",component:Os,name:"line"},{path:"doughnut",component:Rs,name:"doughnut"}]},{path:"/chart_managerTeam/:teamID",name:"chart_managerTeam",component:Ft,children:[{path:"",component:qs,name:"allTeam"},{path:"bar",component:_s,name:"barTeam"},{path:"line",component:Os,name:"lineTeam"},{path:"doughnut",component:Rs,name:"doughnutTeam"}]},{path:"/users/:userID",component:Oe,name:"users/:userID"},{path:"/adminView",name:"adminView",component:ko,droitsAdmin:!0,droitsManager:!1},{path:"/managerView",name:"managerView",component:qa,droitsAdmin:!0,droitsManager:!0},{path:"/managerView",name:"managerView",component:qa,droitsAdmin:!0,droitsManager:!0}]});jo.beforeEach((async(e,t)=>{const s=localStorage.session?localStorage.session:null,a=s&&""!==JSON.parse(s).token?JSON.parse(s).token:null,n=a?(0,To.Z)(a):null,o=n?new Date(0).setUTCSeconds(n.exp):null,i=new Date,r=!!s&&JSON.parse(s).active,l=!!s&&JSON.parse(s).isAuthoriseAdmin,c=!!s&&JSON.parse(s).isAuthoriseManager,d=s?parseInt(JSON.parse(s).id):-1;return o<i&&localStorage.clear(),r&&"login"===e.name?{name:"home"}:r||"login"===e.name?r&&"login"===e.name?{name:"home"}:("working_times"!==e.name||parseInt(e.params.userID)===d||c)&&("chart_manager"!==e.name||parseInt(e.params.userID)===d||c)?r&&"adminView"===e.name&&!0!==l||r&&"managerView"===e.name&&!0!==c||r&&"chart_managerTeam"===e.name&&!0!==c?{name:"home"}:void 0:(Do.error("Access not autorized !"),{name:"home"}):{name:"login"}}));var Uo=jo,zo={data(){return{user:{username:"",id:"",email:""},session:{active:!1,id:null,username:"",email:""}}},created(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})},watch:{$route(e,t){"login"===t.name&&"home"===e.name&&(this.session=JSON.parse(localStorage.session))}},methods:{unregisterUser:async function(){const e={active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1,token:""},t=await fetch("http://time-manager.ovh:4001/api/logout",{mode:"cors",method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:JSON.parse(localStorage.session).token}}),{status:s,success:a,message:n,error:o}=await t.json();a?this.$toast.success(n,{position:"top-right"}):this.$toast.error(o,{position:"top-right"}),localStorage.session=JSON.stringify(e),this.session=e,Uo.push("/")}}};const Co=(0,V.Z)(zo,[["render",_],["__scopeId","data-v-0d637854"]]);var Ao=Co;const Wo={class:"header"},Oo={class:"main-content"};var Mo={__name:"TimeManagerView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",Wo,[(0,n.Wm)(Ao)]),(0,n._)("main",Oo,[(0,n.Wm)((0,o.SU)(i.MA))])],64))}};const No=(0,V.Z)(Mo,[["__scopeId","data-v-0936f8b5"]]);var xo=No;const Io={data:function(){return{session:{active:!1,id:null,username:"",email:"",isAuthoriseAdmin:"",isAuthoriseManager:"",token:""}}},mounted(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})}};var Vo=Object.assign(Io,{__name:"App",setup(e){return(e,t)=>((0,n.wg)(),(0,n.j4)(xo))}});const $o=Vo;var Lo=$o,Fo=s(3045);const Jo=(0,a.ri)(Lo);Jo.component("Calendar",Fo.f),Jo.component("DatePicker",Fo.Mt),Jo.use(Fo.ZP,{}),Jo.use(Uo),Jo.use(So.ZP),Jo.mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],o=e[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var d=l(s)}for(t&&t(a);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3158)}));a=s.O(a)})();
//# sourceMappingURL=app.3a108882.js.map